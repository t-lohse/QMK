   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 4
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 2
  15              		.file	"chprintf.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "lib/chibios/os/hal/lib/streams/chprintf.c"
  20              		.section	.text.long_to_string_with_divisor.constprop.0,"ax",%progbits
  21              		.align	1
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	long_to_string_with_divisor.constprop.0:
  27              	.LVL0:
  28              	.LFB334:
   1:lib/chibios/os/hal/lib/streams/chprintf.c **** /*
   2:lib/chibios/os/hal/lib/streams/chprintf.c ****     ChibiOS - Copyright (C) 2006..2018 Giovanni Di Sirio
   3:lib/chibios/os/hal/lib/streams/chprintf.c **** 
   4:lib/chibios/os/hal/lib/streams/chprintf.c ****     Licensed under the Apache License, Version 2.0 (the "License");
   5:lib/chibios/os/hal/lib/streams/chprintf.c ****     you may not use this file except in compliance with the License.
   6:lib/chibios/os/hal/lib/streams/chprintf.c ****     You may obtain a copy of the License at
   7:lib/chibios/os/hal/lib/streams/chprintf.c **** 
   8:lib/chibios/os/hal/lib/streams/chprintf.c ****         http://www.apache.org/licenses/LICENSE-2.0
   9:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  10:lib/chibios/os/hal/lib/streams/chprintf.c ****     Unless required by applicable law or agreed to in writing, software
  11:lib/chibios/os/hal/lib/streams/chprintf.c ****     distributed under the License is distributed on an "AS IS" BASIS,
  12:lib/chibios/os/hal/lib/streams/chprintf.c ****     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  13:lib/chibios/os/hal/lib/streams/chprintf.c ****     See the License for the specific language governing permissions and
  14:lib/chibios/os/hal/lib/streams/chprintf.c ****     limitations under the License.
  15:lib/chibios/os/hal/lib/streams/chprintf.c **** */
  16:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  17:lib/chibios/os/hal/lib/streams/chprintf.c **** /*
  18:lib/chibios/os/hal/lib/streams/chprintf.c ****    Concepts and parts of this file have been contributed by Fabio Utzig,
  19:lib/chibios/os/hal/lib/streams/chprintf.c ****    chvprintf() added by Brent Roman.
  20:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
  21:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  22:lib/chibios/os/hal/lib/streams/chprintf.c **** /**
  23:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @file    chprintf.c
  24:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @brief   Mini printf-like functionality.
  25:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
  26:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @addtogroup HAL_CHPRINTF
  27:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @details Mini printf-like functionality.
  28:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @{
  29:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
  30:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  31:lib/chibios/os/hal/lib/streams/chprintf.c **** #include "hal.h"
  32:lib/chibios/os/hal/lib/streams/chprintf.c **** #include "chprintf.h"
  33:lib/chibios/os/hal/lib/streams/chprintf.c **** #include "memstreams.h"
  34:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  35:lib/chibios/os/hal/lib/streams/chprintf.c **** #define MAX_FILLER 11
  36:lib/chibios/os/hal/lib/streams/chprintf.c **** #define FLOAT_PRECISION 9
  37:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  38:lib/chibios/os/hal/lib/streams/chprintf.c **** static char *long_to_string_with_divisor(char *p,
  29              		.loc 1 38 14 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  39:lib/chibios/os/hal/lib/streams/chprintf.c ****                                          long num,
  40:lib/chibios/os/hal/lib/streams/chprintf.c ****                                          unsigned radix,
  41:lib/chibios/os/hal/lib/streams/chprintf.c ****                                          long divisor) {
  42:lib/chibios/os/hal/lib/streams/chprintf.c ****   int i;
  33              		.loc 1 42 3 view .LVU1
  43:lib/chibios/os/hal/lib/streams/chprintf.c ****   char *q;
  34              		.loc 1 43 3 view .LVU2
  44:lib/chibios/os/hal/lib/streams/chprintf.c ****   long l, ll;
  35              		.loc 1 44 3 view .LVU3
  45:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  46:lib/chibios/os/hal/lib/streams/chprintf.c ****   l = num;
  36              		.loc 1 46 3 view .LVU4
  47:lib/chibios/os/hal/lib/streams/chprintf.c ****   if (divisor == 0) {
  37              		.loc 1 47 3 view .LVU5
  48:lib/chibios/os/hal/lib/streams/chprintf.c ****     ll = num;
  49:lib/chibios/os/hal/lib/streams/chprintf.c ****   } else {
  50:lib/chibios/os/hal/lib/streams/chprintf.c ****     ll = divisor;
  51:lib/chibios/os/hal/lib/streams/chprintf.c ****   }
  52:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  53:lib/chibios/os/hal/lib/streams/chprintf.c ****   q = p + MAX_FILLER;
  38              		.loc 1 53 3 view .LVU6
  38:lib/chibios/os/hal/lib/streams/chprintf.c ****                                          long num,
  39              		.loc 1 38 14 is_stmt 0 view .LVU7
  40 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  41              		.cfi_def_cfa_offset 20
  42              		.cfi_offset 4, -20
  43              		.cfi_offset 5, -16
  44              		.cfi_offset 6, -12
  45              		.cfi_offset 7, -8
  46              		.cfi_offset 14, -4
  47              		.loc 1 53 5 view .LVU8
  48 0002 00F10B04 		add	r4, r0, #11
  49              	.LVL1:
  50              		.loc 1 53 5 view .LVU9
  51 0006 2346     		mov	r3, r4
  52              	.LVL2:
  53              	.L3:
  54:lib/chibios/os/hal/lib/streams/chprintf.c ****   do {
  54              		.loc 1 54 3 is_stmt 1 view .LVU10
  55:lib/chibios/os/hal/lib/streams/chprintf.c ****     i = (int)(l % radix);
  55              		.loc 1 55 5 view .LVU11
  56              		.loc 1 55 17 is_stmt 0 view .LVU12
  57 0008 0D46     		mov	r5, r1
  58 000a B1FBF2F1 		udiv	r1, r1, r2
  59              	.LVL3:
  60              		.loc 1 55 17 view .LVU13
  61 000e 02FB1157 		mls	r7, r2, r1, r5
  62              	.LVL4:
  56:lib/chibios/os/hal/lib/streams/chprintf.c ****     i += '0';
  63              		.loc 1 56 5 is_stmt 1 view .LVU14
  64              		.loc 1 56 7 is_stmt 0 view .LVU15
  65 0012 07F13006 		add	r6, r7, #48
  66              	.LVL5:
  57:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (i > '9') {
  67              		.loc 1 57 5 is_stmt 1 view .LVU16
  68              		.loc 1 57 8 is_stmt 0 view .LVU17
  69 0016 392E     		cmp	r6, #57
  58:lib/chibios/os/hal/lib/streams/chprintf.c ****       i += 'A' - '0' - 10;
  70              		.loc 1 58 7 is_stmt 1 view .LVU18
  71              		.loc 1 58 9 is_stmt 0 view .LVU19
  72 0018 C8BF     		it	gt
  73 001a 07F13706 		addgt	r6, r7, #55
  74              	.LVL6:
  59:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
  60:lib/chibios/os/hal/lib/streams/chprintf.c ****     *--q = i;
  75              		.loc 1 60 5 is_stmt 1 view .LVU20
  61:lib/chibios/os/hal/lib/streams/chprintf.c ****     l /= radix;
  62:lib/chibios/os/hal/lib/streams/chprintf.c ****   } while ((ll /= radix) != 0);
  76              		.loc 1 62 26 is_stmt 0 view .LVU21
  77 001e 9542     		cmp	r5, r2
  60:lib/chibios/os/hal/lib/streams/chprintf.c ****     l /= radix;
  78              		.loc 1 60 10 view .LVU22
  79 0020 03F8016D 		strb	r6, [r3, #-1]!
  80              	.LVL7:
  61:lib/chibios/os/hal/lib/streams/chprintf.c ****     l /= radix;
  81              		.loc 1 61 5 is_stmt 1 view .LVU23
  82              		.loc 1 62 26 view .LVU24
  83              		.loc 1 62 26 is_stmt 0 view .LVU25
  84 0024 F0D2     		bcs	.L3
  63:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  64:lib/chibios/os/hal/lib/streams/chprintf.c ****   i = (int)(p + MAX_FILLER - q);
  85              		.loc 1 64 3 is_stmt 1 view .LVU26
  86              	.LVL8:
  87              		.loc 1 64 3 is_stmt 0 view .LVU27
  88 0026 421E     		subs	r2, r0, #1
  89              	.LVL9:
  90              		.loc 1 64 5 view .LVU28
  91 0028 E11A     		subs	r1, r4, r3
  92              	.LVL10:
  93              	.L4:
  65:lib/chibios/os/hal/lib/streams/chprintf.c ****   do
  94              		.loc 1 65 3 is_stmt 1 view .LVU29
  66:lib/chibios/os/hal/lib/streams/chprintf.c ****     *p++ = *q++;
  95              		.loc 1 66 5 view .LVU30
  96              		.loc 1 66 12 is_stmt 0 view .LVU31
  97 002a 13F8015B 		ldrb	r5, [r3], #1	@ zero_extendqisi2
  98              	.LVL11:
  99              		.loc 1 66 10 view .LVU32
 100 002e 02F8015F 		strb	r5, [r2, #1]!
  67:lib/chibios/os/hal/lib/streams/chprintf.c ****   while (--i);
 101              		.loc 1 67 10 is_stmt 1 view .LVU33
 102              		.loc 1 67 10 is_stmt 0 view .LVU34
 103 0032 9C42     		cmp	r4, r3
 104 0034 F9D1     		bne	.L4
  68:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  69:lib/chibios/os/hal/lib/streams/chprintf.c ****   return p;
 105              		.loc 1 69 3 is_stmt 1 view .LVU35
  70:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 106              		.loc 1 70 1 is_stmt 0 view .LVU36
 107 0036 0844     		add	r0, r0, r1
 108 0038 F0BD     		pop	{r4, r5, r6, r7, pc}
 109              		.cfi_endproc
 110              	.LFE334:
 112              		.section	.rodata.chvprintf.str1.1,"aMS",%progbits,1
 113              	.LC0:
 114 0000 286E756C 		.ascii	"(null)\000"
 114      6C2900
 115              		.section	.text.chvprintf,"ax",%progbits
 116              		.align	1
 117              		.global	chvprintf
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 122              	chvprintf:
 123              	.LVL12:
 124              	.LFB330:
  71:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  72:lib/chibios/os/hal/lib/streams/chprintf.c **** static char *ch_ltoa(char *p, long num, unsigned radix) {
  73:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  74:lib/chibios/os/hal/lib/streams/chprintf.c ****   return long_to_string_with_divisor(p, num, radix, 0);
  75:lib/chibios/os/hal/lib/streams/chprintf.c **** }
  76:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  77:lib/chibios/os/hal/lib/streams/chprintf.c **** #if CHPRINTF_USE_FLOAT
  78:lib/chibios/os/hal/lib/streams/chprintf.c **** static const long pow10[FLOAT_PRECISION] = {
  79:lib/chibios/os/hal/lib/streams/chprintf.c ****     10, 100, 1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000
  80:lib/chibios/os/hal/lib/streams/chprintf.c **** };
  81:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  82:lib/chibios/os/hal/lib/streams/chprintf.c **** static char *ftoa(char *p, double num, unsigned long precision) {
  83:lib/chibios/os/hal/lib/streams/chprintf.c ****   long l;
  84:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  85:lib/chibios/os/hal/lib/streams/chprintf.c ****   if ((precision == 0) || (precision > FLOAT_PRECISION)) {
  86:lib/chibios/os/hal/lib/streams/chprintf.c ****     precision = FLOAT_PRECISION;
  87:lib/chibios/os/hal/lib/streams/chprintf.c ****   }
  88:lib/chibios/os/hal/lib/streams/chprintf.c ****   precision = pow10[precision - 1];
  89:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  90:lib/chibios/os/hal/lib/streams/chprintf.c ****   l = (long)num;
  91:lib/chibios/os/hal/lib/streams/chprintf.c ****   p = long_to_string_with_divisor(p, l, 10, 0);
  92:lib/chibios/os/hal/lib/streams/chprintf.c ****   *p++ = '.';
  93:lib/chibios/os/hal/lib/streams/chprintf.c ****   l = (long)((num - l) * precision);
  94:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  95:lib/chibios/os/hal/lib/streams/chprintf.c ****   return long_to_string_with_divisor(p, l, 10, precision / 10);
  96:lib/chibios/os/hal/lib/streams/chprintf.c **** }
  97:lib/chibios/os/hal/lib/streams/chprintf.c **** #endif
  98:lib/chibios/os/hal/lib/streams/chprintf.c **** 
  99:lib/chibios/os/hal/lib/streams/chprintf.c **** /**
 100:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @brief   System formatted output function.
 101:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @details This function implements a minimal @p vprintf()-like functionality
 102:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          with output on a @p BaseSequentialStream.
 103:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The general parameters format is: %[-][width|*][.precision|*][l|L]p.
 104:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The following parameter types (p) are supported:
 105:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>x</b> hexadecimal integer.
 106:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>X</b> hexadecimal long.
 107:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>o</b> octal integer.
 108:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>O</b> octal long.
 109:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>d</b> decimal signed integer.
 110:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>D</b> decimal signed long.
 111:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>u</b> decimal unsigned integer.
 112:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>U</b> decimal unsigned long.
 113:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>c</b> character.
 114:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>s</b> string.
 115:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          .
 116:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 117:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] chp       pointer to a @p BaseSequentialStream implementing object
 118:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] fmt       formatting string
 119:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] ap        list of parameters
 120:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @return              The number of bytes that would have been
 121:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      written to @p chp if no stream error occurs
 122:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 123:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @api
 124:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
 125:lib/chibios/os/hal/lib/streams/chprintf.c **** int chvprintf(BaseSequentialStream *chp, const char *fmt, va_list ap) {
 125              		.loc 1 125 71 is_stmt 1 view -0
 126              		.cfi_startproc
 127              		@ args = 0, pretend = 0, frame = 24
 128              		@ frame_needed = 0, uses_anonymous_args = 0
 129              		.loc 1 125 71 is_stmt 0 view .LVU38
 130 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 131              		.cfi_def_cfa_offset 36
 132              		.cfi_offset 4, -36
 133              		.cfi_offset 5, -32
 134              		.cfi_offset 6, -28
 135              		.cfi_offset 7, -24
 136              		.cfi_offset 8, -20
 137              		.cfi_offset 9, -16
 138              		.cfi_offset 10, -12
 139              		.cfi_offset 11, -8
 140              		.cfi_offset 14, -4
 141 0004 0B46     		mov	r3, r1
 142 0006 87B0     		sub	sp, sp, #28
 143              		.cfi_def_cfa_offset 64
 144              		.loc 1 125 71 view .LVU39
 145 0008 8046     		mov	r8, r0
 146 000a 1546     		mov	r5, r2
 147              	.LVL13:
 126:lib/chibios/os/hal/lib/streams/chprintf.c ****   char *p, *s, c, filler;
 148              		.loc 1 126 3 is_stmt 1 view .LVU40
 127:lib/chibios/os/hal/lib/streams/chprintf.c ****   int i, precision, width;
 149              		.loc 1 127 3 view .LVU41
 128:lib/chibios/os/hal/lib/streams/chprintf.c ****   int n = 0;
 150              		.loc 1 128 3 view .LVU42
 151              		.loc 1 128 7 is_stmt 0 view .LVU43
 152 000c 4FF00009 		mov	r9, #0
 153              	.LVL14:
 154              	.L8:
 129:lib/chibios/os/hal/lib/streams/chprintf.c ****   bool is_long, left_align, do_sign;
 155              		.loc 1 129 3 is_stmt 1 view .LVU44
 130:lib/chibios/os/hal/lib/streams/chprintf.c ****   long l;
 156              		.loc 1 130 3 view .LVU45
 131:lib/chibios/os/hal/lib/streams/chprintf.c **** #if CHPRINTF_USE_FLOAT
 132:lib/chibios/os/hal/lib/streams/chprintf.c ****   float f;
 133:lib/chibios/os/hal/lib/streams/chprintf.c ****   char tmpbuf[2*MAX_FILLER + 1];
 134:lib/chibios/os/hal/lib/streams/chprintf.c **** #else
 135:lib/chibios/os/hal/lib/streams/chprintf.c ****   char tmpbuf[MAX_FILLER + 1];
 157              		.loc 1 135 3 view .LVU46
 136:lib/chibios/os/hal/lib/streams/chprintf.c **** #endif
 137:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 138:lib/chibios/os/hal/lib/streams/chprintf.c ****   while (true) {
 158              		.loc 1 138 3 view .LVU47
 139:lib/chibios/os/hal/lib/streams/chprintf.c ****     c = *fmt++;
 159              		.loc 1 139 5 view .LVU48
 160              		.loc 1 139 13 is_stmt 0 view .LVU49
 161 0010 1C46     		mov	r4, r3
 162              	.LVL15:
 163              		.loc 1 139 7 view .LVU50
 164 0012 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 165              	.LVL16:
 140:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == 0) {
 166              		.loc 1 140 5 is_stmt 1 view .LVU51
 167              		.loc 1 140 8 is_stmt 0 view .LVU52
 168 0016 0029     		cmp	r1, #0
 169 0018 3CD0     		beq	.L7
 141:lib/chibios/os/hal/lib/streams/chprintf.c ****       return n;
 142:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 143:lib/chibios/os/hal/lib/streams/chprintf.c ****     
 144:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c != '%') {
 170              		.loc 1 144 5 is_stmt 1 view .LVU53
 171              		.loc 1 144 8 is_stmt 0 view .LVU54
 172 001a 2529     		cmp	r1, #37
 173 001c 07D0     		beq	.L10
 145:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)c);
 174              		.loc 1 145 7 is_stmt 1 discriminator 1 view .LVU55
 175 001e D8F80030 		ldr	r3, [r8]
 176 0022 4046     		mov	r0, r8
 177 0024 DB68     		ldr	r3, [r3, #12]
 178 0026 9847     		blx	r3
 179              	.LVL17:
 146:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 180              		.loc 1 146 7 discriminator 1 view .LVU56
 181              		.loc 1 146 8 is_stmt 0 discriminator 1 view .LVU57
 182 0028 09F10109 		add	r9, r9, #1
 183              	.LVL18:
 147:lib/chibios/os/hal/lib/streams/chprintf.c ****       continue;
 184              		.loc 1 147 7 is_stmt 1 discriminator 1 view .LVU58
 185 002c 53E1     		b	.L11
 186              	.LVL19:
 187              	.L10:
 148:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 149:lib/chibios/os/hal/lib/streams/chprintf.c ****     
 150:lib/chibios/os/hal/lib/streams/chprintf.c ****     p = tmpbuf;
 188              		.loc 1 150 5 view .LVU59
 151:lib/chibios/os/hal/lib/streams/chprintf.c ****     s = tmpbuf;
 189              		.loc 1 151 5 view .LVU60
 152:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 153:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Alignment mode.*/
 154:lib/chibios/os/hal/lib/streams/chprintf.c ****     left_align = false;
 190              		.loc 1 154 5 view .LVU61
 155:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '-') {
 191              		.loc 1 155 5 view .LVU62
 192              		.loc 1 155 8 is_stmt 0 view .LVU63
 193 002e 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 194              	.LVL20:
 195              		.loc 1 155 8 view .LVU64
 196 0030 2D2A     		cmp	r2, #45
 156:lib/chibios/os/hal/lib/streams/chprintf.c ****       fmt++;
 197              		.loc 1 156 7 is_stmt 1 view .LVU65
 198              		.loc 1 156 10 is_stmt 0 view .LVU66
 199 0032 0CBF     		ite	eq
 200 0034 9C1C     		addeq	r4, r3, #2
 201              	.LVL21:
 157:lib/chibios/os/hal/lib/streams/chprintf.c ****       left_align = true;
 202              		.loc 1 157 7 is_stmt 1 view .LVU67
 154:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '-') {
 203              		.loc 1 154 16 is_stmt 0 view .LVU68
 204 0036 0023     		movne	r3, #0
 158:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 159:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 160:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Sign mode.*/
 161:lib/chibios/os/hal/lib/streams/chprintf.c ****     do_sign = false;
 162:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '+') {
 205              		.loc 1 162 8 view .LVU69
 206 0038 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 157:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 207              		.loc 1 157 18 view .LVU70
 208 003a 08BF     		it	eq
 209 003c 0123     		moveq	r3, #1
 210              	.LVL22:
 161:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '+') {
 211              		.loc 1 161 5 is_stmt 1 view .LVU71
 212              		.loc 1 162 5 view .LVU72
 213              		.loc 1 162 8 is_stmt 0 view .LVU73
 214 003e 2B2A     		cmp	r2, #43
 163:lib/chibios/os/hal/lib/streams/chprintf.c ****       fmt++;
 215              		.loc 1 163 7 is_stmt 1 view .LVU74
 216              		.loc 1 163 10 is_stmt 0 view .LVU75
 217 0040 04BF     		itt	eq
 218 0042 0134     		addeq	r4, r4, #1
 219              	.LVL23:
 164:lib/chibios/os/hal/lib/streams/chprintf.c ****       do_sign = true;
 220              		.loc 1 164 7 is_stmt 1 view .LVU76
 221              		.loc 1 164 15 is_stmt 0 view .LVU77
 222 0044 0127     		moveq	r7, #1
 165:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 166:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 167:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Filler mode.*/
 168:lib/chibios/os/hal/lib/streams/chprintf.c ****     filler = ' ';
 169:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '0') {
 223              		.loc 1 169 9 view .LVU78
 224 0046 94F800A0 		ldrb	r10, [r4]	@ zero_extendqisi2
 161:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '+') {
 225              		.loc 1 161 13 view .LVU79
 226 004a 18BF     		it	ne
 227 004c 0027     		movne	r7, #0
 228              	.LVL24:
 168:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '0') {
 229              		.loc 1 168 5 is_stmt 1 view .LVU80
 230              		.loc 1 169 5 view .LVU81
 231              		.loc 1 169 8 is_stmt 0 view .LVU82
 232 004e BAF1300F 		cmp	r10, #48
 170:lib/chibios/os/hal/lib/streams/chprintf.c ****       fmt++;
 233              		.loc 1 170 7 is_stmt 1 view .LVU83
 234              		.loc 1 170 10 is_stmt 0 view .LVU84
 235 0052 0CBF     		ite	eq
 236 0054 0134     		addeq	r4, r4, #1
 237              	.LVL25:
 171:lib/chibios/os/hal/lib/streams/chprintf.c ****       filler = '0';
 238              		.loc 1 171 7 is_stmt 1 view .LVU85
 168:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (*fmt == '0') {
 239              		.loc 1 168 12 is_stmt 0 view .LVU86
 240 0056 4FF0200A 		movne	r10, #32
 241              	.LVL26:
 172:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 173:lib/chibios/os/hal/lib/streams/chprintf.c ****     
 174:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Width modifier.*/
 175:lib/chibios/os/hal/lib/streams/chprintf.c ****     if ( *fmt == '*') {
 242              		.loc 1 175 5 is_stmt 1 view .LVU87
 243              		.loc 1 175 8 is_stmt 0 view .LVU88
 244 005a 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 245 005c 2A2A     		cmp	r2, #42
 246 005e 1DD1     		bne	.L69
 176:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = va_arg(ap, int);
 247              		.loc 1 176 7 is_stmt 1 view .LVU89
 248              	.LVL27:
 249              		.loc 1 176 13 is_stmt 0 view .LVU90
 250 0060 55F804BB 		ldr	fp, [r5], #4
 251              	.LVL28:
 177:lib/chibios/os/hal/lib/streams/chprintf.c ****       ++fmt;
 252              		.loc 1 177 7 is_stmt 1 view .LVU91
 178:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = *fmt++;
 253              		.loc 1 178 7 view .LVU92
 254              		.loc 1 178 9 is_stmt 0 view .LVU93
 255 0064 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 256              	.LVL29:
 257              		.loc 1 178 15 view .LVU94
 258 0066 0234     		adds	r4, r4, #2
 259              	.LVL30:
 260              	.L16:
 179:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 180:lib/chibios/os/hal/lib/streams/chprintf.c ****     else {
 181:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = 0;
 182:lib/chibios/os/hal/lib/streams/chprintf.c ****       while (true) {
 183:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 184:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (c == 0) {
 185:lib/chibios/os/hal/lib/streams/chprintf.c ****           return n;
 186:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 187:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (c >= '0' && c <= '9') {
 188:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 189:lib/chibios/os/hal/lib/streams/chprintf.c ****           width = width * 10 + c;
 190:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 191:lib/chibios/os/hal/lib/streams/chprintf.c ****         else {
 192:lib/chibios/os/hal/lib/streams/chprintf.c ****           break;
 193:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 194:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 195:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 196:lib/chibios/os/hal/lib/streams/chprintf.c ****     
 197:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Precision modifier.*/
 198:lib/chibios/os/hal/lib/streams/chprintf.c ****     precision = 0;
 261              		.loc 1 198 5 is_stmt 1 view .LVU95
 199:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == '.') {
 262              		.loc 1 199 5 view .LVU96
 263              		.loc 1 199 8 is_stmt 0 view .LVU97
 264 0068 2E29     		cmp	r1, #46
 265 006a 44D1     		bne	.L70
 200:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = *fmt++;
 266              		.loc 1 200 7 is_stmt 1 view .LVU98
 267              	.LVL31:
 268              		.loc 1 200 9 is_stmt 0 view .LVU99
 269 006c 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 270              	.LVL32:
 201:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 271              		.loc 1 201 7 is_stmt 1 view .LVU100
 272              		.loc 1 201 10 is_stmt 0 view .LVU101
 273 006e 89B1     		cbz	r1, .L7
 202:lib/chibios/os/hal/lib/streams/chprintf.c ****         return n;
 203:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 204:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == '*') {
 274              		.loc 1 204 7 is_stmt 1 view .LVU102
 275              		.loc 1 204 10 is_stmt 0 view .LVU103
 276 0070 2A29     		cmp	r1, #42
 277 0072 22D0     		beq	.L18
 200:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 278              		.loc 1 200 15 view .LVU104
 279 0074 661C     		adds	r6, r4, #1
 280              	.LVL33:
 198:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == '.') {
 281              		.loc 1 198 15 view .LVU105
 282 0076 0022     		movs	r2, #0
 205:lib/chibios/os/hal/lib/streams/chprintf.c ****         precision = va_arg(ap, int);
 206:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 207:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 208:lib/chibios/os/hal/lib/streams/chprintf.c ****       else {
 209:lib/chibios/os/hal/lib/streams/chprintf.c ****         while (c >= '0' && c <= '9') {
 210:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 211:lib/chibios/os/hal/lib/streams/chprintf.c ****           precision = precision * 10 + c;
 283              		.loc 1 211 33 view .LVU106
 284 0078 4FF00A0C 		mov	ip, #10
 285              	.LVL34:
 286              	.L19:
 209:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 287              		.loc 1 209 25 view .LVU107
 288 007c A1F13000 		sub	r0, r1, #48
 289 0080 C0B2     		uxtb	r0, r0
 290 0082 0928     		cmp	r0, #9
 291 0084 3446     		mov	r4, r6
 292              	.LVL35:
 209:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 293              		.loc 1 209 25 is_stmt 1 view .LVU108
 294 0086 1CD8     		bhi	.L17
 210:lib/chibios/os/hal/lib/streams/chprintf.c ****           precision = precision * 10 + c;
 295              		.loc 1 210 11 view .LVU109
 296              	.LVL36:
 297              		.loc 1 211 11 view .LVU110
 212:lib/chibios/os/hal/lib/streams/chprintf.c ****           c = *fmt++;
 298              		.loc 1 212 13 is_stmt 0 view .LVU111
 299 0088 16F8011B 		ldrb	r1, [r6], #1	@ zero_extendqisi2
 211:lib/chibios/os/hal/lib/streams/chprintf.c ****           c = *fmt++;
 300              		.loc 1 211 21 view .LVU112
 301 008c 0CFB0202 		mla	r2, ip, r2, r0
 302              	.LVL37:
 303              		.loc 1 212 11 is_stmt 1 view .LVU113
 213:lib/chibios/os/hal/lib/streams/chprintf.c ****           if (c == 0) {
 304              		.loc 1 213 11 view .LVU114
 305              		.loc 1 213 14 is_stmt 0 view .LVU115
 306 0090 0029     		cmp	r1, #0
 307 0092 F3D1     		bne	.L19
 308              	.LVL38:
 309              	.L7:
 214:lib/chibios/os/hal/lib/streams/chprintf.c ****             return n;
 215:lib/chibios/os/hal/lib/streams/chprintf.c ****           }
 216:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 217:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 218:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 219:lib/chibios/os/hal/lib/streams/chprintf.c ****     
 220:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Long modifier.*/
 221:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == 'l' || c == 'L') {
 222:lib/chibios/os/hal/lib/streams/chprintf.c ****       is_long = true;
 223:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = *fmt++;
 224:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 225:lib/chibios/os/hal/lib/streams/chprintf.c ****         return n;
 226:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 227:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 228:lib/chibios/os/hal/lib/streams/chprintf.c ****     else {
 229:lib/chibios/os/hal/lib/streams/chprintf.c ****       is_long = (c >= 'A') && (c <= 'Z');
 230:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 231:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 232:lib/chibios/os/hal/lib/streams/chprintf.c ****     /* Command decoding.*/
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     switch (c) {
 234:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 235:lib/chibios/os/hal/lib/streams/chprintf.c ****       filler = ' ';
 236:lib/chibios/os/hal/lib/streams/chprintf.c ****       *p++ = va_arg(ap, int);
 237:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 238:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 's':
 239:lib/chibios/os/hal/lib/streams/chprintf.c ****       filler = ' ';
 240:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((s = va_arg(ap, char *)) == 0) {
 241:lib/chibios/os/hal/lib/streams/chprintf.c ****         s = "(null)";
 242:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 243:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (precision == 0) {
 244:lib/chibios/os/hal/lib/streams/chprintf.c ****         precision = 32767;
 245:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 246:lib/chibios/os/hal/lib/streams/chprintf.c ****       for (p = s; *p && (--precision >= 0); p++)
 247:lib/chibios/os/hal/lib/streams/chprintf.c ****         ;
 248:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 249:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'D':
 250:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'd':
 251:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'I':
 252:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'i':
 253:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (is_long) {
 254:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, long);
 255:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 256:lib/chibios/os/hal/lib/streams/chprintf.c ****       else {
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, int);
 258:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 259:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (l < 0) {
 260:lib/chibios/os/hal/lib/streams/chprintf.c ****         *p++ = '-';
 261:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = -l;
 262:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 263:lib/chibios/os/hal/lib/streams/chprintf.c ****       else
 264:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (do_sign) {
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****           *p++ = '+';
 266:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 267:lib/chibios/os/hal/lib/streams/chprintf.c ****       p = ch_ltoa(p, l, 10);
 268:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 269:lib/chibios/os/hal/lib/streams/chprintf.c **** #if CHPRINTF_USE_FLOAT
 270:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'f':
 271:lib/chibios/os/hal/lib/streams/chprintf.c ****       f = (float) va_arg(ap, double);
 272:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (f < 0) {
 273:lib/chibios/os/hal/lib/streams/chprintf.c ****         *p++ = '-';
 274:lib/chibios/os/hal/lib/streams/chprintf.c ****         f = -f;
 275:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 276:lib/chibios/os/hal/lib/streams/chprintf.c ****       else {
 277:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (do_sign) {
 278:lib/chibios/os/hal/lib/streams/chprintf.c ****           *p++ = '+';
 279:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 280:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 281:lib/chibios/os/hal/lib/streams/chprintf.c ****       p = ftoa(p, f, precision);
 282:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 283:lib/chibios/os/hal/lib/streams/chprintf.c **** #endif
 284:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'X':
 285:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'x':
 286:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'P':
 287:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'p':
 288:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = 16;
 289:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 290:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'U':
 291:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'u':
 292:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = 10;
 293:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 294:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'O':
 295:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'o':
 296:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = 8;
 297:lib/chibios/os/hal/lib/streams/chprintf.c **** unsigned_common:
 298:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (is_long) {
 299:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, unsigned long);
 300:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 301:lib/chibios/os/hal/lib/streams/chprintf.c ****       else {
 302:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, unsigned int);
 303:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 304:lib/chibios/os/hal/lib/streams/chprintf.c ****       p = ch_ltoa(p, l, c);
 305:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 306:lib/chibios/os/hal/lib/streams/chprintf.c ****     default:
 307:lib/chibios/os/hal/lib/streams/chprintf.c ****       *p++ = c;
 308:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 309:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 310:lib/chibios/os/hal/lib/streams/chprintf.c ****     i = (int)(p - s);
 311:lib/chibios/os/hal/lib/streams/chprintf.c ****     if ((width -= i) < 0) {
 312:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = 0;
 313:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 314:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (left_align == false) {
 315:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = -width;
 316:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 317:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (width < 0) {
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((*s == '-' || *s == '+') && filler == '0') {
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 320:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 321:lib/chibios/os/hal/lib/streams/chprintf.c ****         i--;
 322:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 323:lib/chibios/os/hal/lib/streams/chprintf.c ****       do {
 324:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)filler);
 325:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 326:lib/chibios/os/hal/lib/streams/chprintf.c ****       } while (++width != 0);
 327:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 328:lib/chibios/os/hal/lib/streams/chprintf.c ****     while (--i >= 0) {
 329:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)*s++);
 330:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 331:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 332:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 333:lib/chibios/os/hal/lib/streams/chprintf.c ****     while (width) {
 334:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)filler);
 335:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 336:lib/chibios/os/hal/lib/streams/chprintf.c ****       width--;
 337:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 338:lib/chibios/os/hal/lib/streams/chprintf.c ****   }
 339:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 310              		.loc 1 339 1 view .LVU116
 311 0094 4846     		mov	r0, r9
 312 0096 07B0     		add	sp, sp, #28
 313              		.cfi_remember_state
 314              		.cfi_def_cfa_offset 36
 315              		@ sp needed
 316 0098 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 317              	.LVL39:
 318              	.L69:
 319              		.cfi_restore_state
 181:lib/chibios/os/hal/lib/streams/chprintf.c ****       while (true) {
 320              		.loc 1 181 13 view .LVU117
 321 009c 4FF0000B 		mov	fp, #0
 322              	.LVL40:
 323              	.L15:
 182:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 324              		.loc 1 182 7 is_stmt 1 view .LVU118
 183:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (c == 0) {
 325              		.loc 1 183 9 view .LVU119
 183:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (c == 0) {
 326              		.loc 1 183 11 is_stmt 0 view .LVU120
 327 00a0 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 328              	.LVL41:
 184:lib/chibios/os/hal/lib/streams/chprintf.c ****           return n;
 329              		.loc 1 184 9 is_stmt 1 view .LVU121
 184:lib/chibios/os/hal/lib/streams/chprintf.c ****           return n;
 330              		.loc 1 184 12 is_stmt 0 view .LVU122
 331 00a4 0029     		cmp	r1, #0
 332 00a6 F5D0     		beq	.L7
 187:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 333              		.loc 1 187 9 is_stmt 1 view .LVU123
 187:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 334              		.loc 1 187 22 is_stmt 0 view .LVU124
 335 00a8 A1F13002 		sub	r2, r1, #48
 336 00ac D2B2     		uxtb	r2, r2
 187:lib/chibios/os/hal/lib/streams/chprintf.c ****           c -= '0';
 337              		.loc 1 187 12 view .LVU125
 338 00ae 092A     		cmp	r2, #9
 339 00b0 DAD8     		bhi	.L16
 188:lib/chibios/os/hal/lib/streams/chprintf.c ****           width = width * 10 + c;
 340              		.loc 1 188 11 is_stmt 1 view .LVU126
 341              	.LVL42:
 189:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 342              		.loc 1 189 11 view .LVU127
 189:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 343              		.loc 1 189 17 is_stmt 0 view .LVU128
 344 00b2 0A21     		movs	r1, #10
 345 00b4 01FB0B2B 		mla	fp, r1, fp, r2
 346              	.LVL43:
 182:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 347              		.loc 1 182 13 is_stmt 1 view .LVU129
 183:lib/chibios/os/hal/lib/streams/chprintf.c ****         if (c == 0) {
 348              		.loc 1 183 11 is_stmt 0 view .LVU130
 349 00b8 F2E7     		b	.L15
 350              	.LVL44:
 351              	.L18:
 205:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 352              		.loc 1 205 9 is_stmt 1 view .LVU131
 205:lib/chibios/os/hal/lib/streams/chprintf.c ****         c = *fmt++;
 353              		.loc 1 205 19 is_stmt 0 view .LVU132
 354 00ba 55F8042B 		ldr	r2, [r5], #4
 355              	.LVL45:
 206:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 356              		.loc 1 206 9 is_stmt 1 view .LVU133
 206:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 357              		.loc 1 206 11 is_stmt 0 view .LVU134
 358 00be 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 359              	.LVL46:
 206:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 360              		.loc 1 206 17 view .LVU135
 361 00c0 0234     		adds	r4, r4, #2
 362              	.LVL47:
 363              	.L17:
 221:lib/chibios/os/hal/lib/streams/chprintf.c ****       is_long = true;
 364              		.loc 1 221 5 is_stmt 1 view .LVU136
 221:lib/chibios/os/hal/lib/streams/chprintf.c ****       is_long = true;
 365              		.loc 1 221 8 is_stmt 0 view .LVU137
 366 00c2 01F0DF00 		and	r0, r1, #223
 367 00c6 4C28     		cmp	r0, #76
 368 00c8 17D1     		bne	.L21
 222:lib/chibios/os/hal/lib/streams/chprintf.c ****       c = *fmt++;
 369              		.loc 1 222 7 is_stmt 1 view .LVU138
 370              	.LVL48:
 223:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 371              		.loc 1 223 7 view .LVU139
 223:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 372              		.loc 1 223 9 is_stmt 0 view .LVU140
 373 00ca 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 374              	.LVL49:
 224:lib/chibios/os/hal/lib/streams/chprintf.c ****         return n;
 375              		.loc 1 224 7 is_stmt 1 view .LVU141
 224:lib/chibios/os/hal/lib/streams/chprintf.c ****         return n;
 376              		.loc 1 224 10 is_stmt 0 view .LVU142
 377 00cc 0029     		cmp	r1, #0
 378 00ce E1D0     		beq	.L7
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 379              		.loc 1 233 5 view .LVU143
 380 00d0 7829     		cmp	r1, #120
 223:lib/chibios/os/hal/lib/streams/chprintf.c ****       if (c == 0) {
 381              		.loc 1 223 15 view .LVU144
 382 00d2 04F10104 		add	r4, r4, #1
 383              	.LVL50:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 384              		.loc 1 233 5 is_stmt 1 view .LVU145
 385 00d6 1FD8     		bhi	.L23
 386 00d8 6229     		cmp	r1, #98
 387 00da 00F20681 		bhi	.L60
 388 00de 5829     		cmp	r1, #88
 389 00e0 1AD8     		bhi	.L23
 390 00e2 4E29     		cmp	r1, #78
 391 00e4 00F23681 		bhi	.L61
 392 00e8 4429     		cmp	r1, #68
 393 00ea 00F09480 		beq	.L41
 394 00ee 4929     		cmp	r1, #73
 395 00f0 00F09180 		beq	.L41
 396 00f4 10E0     		b	.L23
 397              	.LVL51:
 398              	.L70:
 198:lib/chibios/os/hal/lib/streams/chprintf.c ****     if (c == '.') {
 399              		.loc 1 198 15 is_stmt 0 view .LVU146
 400 00f6 0022     		movs	r2, #0
 401 00f8 E3E7     		b	.L17
 402              	.LVL52:
 403              	.L21:
 229:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 404              		.loc 1 229 7 is_stmt 1 view .LVU147
 229:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 405              		.loc 1 229 28 is_stmt 0 view .LVU148
 406 00fa A1F14100 		sub	r0, r1, #65
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 407              		.loc 1 233 5 view .LVU149
 408 00fe 7829     		cmp	r1, #120
 229:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 409              		.loc 1 229 28 view .LVU150
 410 0100 C0B2     		uxtb	r0, r0
 411              	.LVL53:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 412              		.loc 1 233 5 is_stmt 1 view .LVU151
 413 0102 09D8     		bhi	.L23
 414 0104 6229     		cmp	r1, #98
 415 0106 0BD8     		bhi	.L24
 416 0108 5829     		cmp	r1, #88
 417 010a 05D8     		bhi	.L23
 418 010c 4E29     		cmp	r1, #78
 419 010e 3BD8     		bhi	.L25
 420 0110 4429     		cmp	r1, #68
 421 0112 7BD0     		beq	.L26
 422 0114 4929     		cmp	r1, #73
 423 0116 79D0     		beq	.L26
 424              	.LVL54:
 425              	.L23:
 307:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 426              		.loc 1 307 7 view .LVU152
 307:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 427              		.loc 1 307 12 is_stmt 0 view .LVU153
 428 0118 8DF80C10 		strb	r1, [sp, #12]
 308:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 429              		.loc 1 308 7 is_stmt 1 view .LVU154
 430 011c 2E46     		mov	r6, r5
 431 011e 59E0     		b	.L122
 432              	.LVL55:
 433              	.L24:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 434              		.loc 1 233 5 is_stmt 0 view .LVU155
 435 0120 A1F16306 		sub	r6, r1, #99
 436 0124 152E     		cmp	r6, #21
 437 0126 F7D8     		bhi	.L23
 438 0128 0FF2040C 		adr	ip, .L28
 439 012c 5CF826F0 		ldr	pc, [ip, r6, lsl #2]
 440              		.p2align 2
 441              	.L28:
 442 0130 C7010000 		.word	.L32+1
 443 0134 0D020000 		.word	.L26+1
 444 0138 19010000 		.word	.L23+1
 445 013c 19010000 		.word	.L23+1
 446 0140 19010000 		.word	.L23+1
 447 0144 19010000 		.word	.L23+1
 448 0148 0D020000 		.word	.L26+1
 449 014c 19010000 		.word	.L23+1
 450 0150 19010000 		.word	.L23+1
 451 0154 19010000 		.word	.L23+1
 452 0158 19010000 		.word	.L23+1
 453 015c 19010000 		.word	.L23+1
 454 0160 C1010000 		.word	.L35+1
 455 0164 AB020000 		.word	.L71+1
 456 0168 19010000 		.word	.L23+1
 457 016c 19010000 		.word	.L23+1
 458 0170 DD010000 		.word	.L30+1
 459 0174 19010000 		.word	.L23+1
 460 0178 AF020000 		.word	.L72+1
 461 017c 19010000 		.word	.L23+1
 462 0180 19010000 		.word	.L23+1
 463 0184 AB020000 		.word	.L71+1
 464              		.p2align 1
 465              	.L25:
 466 0188 A1F14F02 		sub	r2, r1, #79
 467              	.LVL56:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 468              		.loc 1 233 5 view .LVU156
 469 018c 092A     		cmp	r2, #9
 470 018e C3D8     		bhi	.L23
 471 0190 01A6     		adr	r6, .L34
 472 0192 56F822F0 		ldr	pc, [r6, r2, lsl #2]
 473 0196 00BF     		.p2align 2
 474              	.L34:
 475 0198 C1010000 		.word	.L35+1
 476 019c AB020000 		.word	.L71+1
 477 01a0 19010000 		.word	.L23+1
 478 01a4 19010000 		.word	.L23+1
 479 01a8 19010000 		.word	.L23+1
 480 01ac 19010000 		.word	.L23+1
 481 01b0 AF020000 		.word	.L72+1
 482 01b4 19010000 		.word	.L23+1
 483 01b8 19010000 		.word	.L23+1
 484 01bc AB020000 		.word	.L71+1
 485              		.p2align 1
 486              	.L35:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 487              		.loc 1 233 5 view .LVU157
 488 01c0 0822     		movs	r2, #8
 489              	.L27:
 490              	.LVL57:
 298:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, unsigned long);
 491              		.loc 1 298 7 is_stmt 1 view .LVU158
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 492              		.loc 1 257 11 is_stmt 0 view .LVU159
 493 01c2 2E1D     		adds	r6, r5, #4
 494 01c4 6AE0     		b	.L49
 495              	.LVL58:
 496              	.L32:
 235:lib/chibios/os/hal/lib/streams/chprintf.c ****       *p++ = va_arg(ap, int);
 497              		.loc 1 235 7 is_stmt 1 view .LVU160
 236:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 498              		.loc 1 236 7 view .LVU161
 236:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 499              		.loc 1 236 14 is_stmt 0 view .LVU162
 500 01c6 2E46     		mov	r6, r5
 501              	.LVL59:
 235:lib/chibios/os/hal/lib/streams/chprintf.c ****       *p++ = va_arg(ap, int);
 502              		.loc 1 235 14 view .LVU163
 503 01c8 4FF0200A 		mov	r10, #32
 236:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 504              		.loc 1 236 12 view .LVU164
 505 01cc 56F8042B 		ldr	r2, [r6], #4
 506              	.LVL60:
 236:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 507              		.loc 1 236 12 view .LVU165
 508 01d0 8DF80C20 		strb	r2, [sp, #12]
 237:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 's':
 509              		.loc 1 237 7 is_stmt 1 view .LVU166
 510              	.LVL61:
 511              	.L122:
 151:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 512              		.loc 1 151 7 is_stmt 0 view .LVU167
 513 01d4 03AD     		add	r5, sp, #12
 514              	.LVL62:
 307:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 515              		.loc 1 307 9 view .LVU168
 516 01d6 0DF10D00 		add	r0, sp, #13
 517              	.LVL63:
 308:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 518              		.loc 1 308 7 view .LVU169
 519 01da 2DE0     		b	.L36
 520              	.LVL64:
 521              	.L30:
 239:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((s = va_arg(ap, char *)) == 0) {
 522              		.loc 1 239 7 is_stmt 1 view .LVU170
 240:lib/chibios/os/hal/lib/streams/chprintf.c ****         s = "(null)";
 523              		.loc 1 240 7 view .LVU171
 240:lib/chibios/os/hal/lib/streams/chprintf.c ****         s = "(null)";
 524              		.loc 1 240 14 is_stmt 0 view .LVU172
 525 01dc 2E46     		mov	r6, r5
 526              	.LVL65:
 241:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 527              		.loc 1 241 11 view .LVU173
 528 01de 6D49     		ldr	r1, .L123
 529              	.LVL66:
 240:lib/chibios/os/hal/lib/streams/chprintf.c ****         s = "(null)";
 530              		.loc 1 240 14 view .LVU174
 531 01e0 56F8045B 		ldr	r5, [r6], #4
 532              	.LVL67:
 241:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 533              		.loc 1 241 11 view .LVU175
 534 01e4 002D     		cmp	r5, #0
 535 01e6 08BF     		it	eq
 536 01e8 0D46     		moveq	r5, r1
 537              	.LVL68:
 243:lib/chibios/os/hal/lib/streams/chprintf.c ****         precision = 32767;
 538              		.loc 1 243 7 is_stmt 1 view .LVU176
 244:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 539              		.loc 1 244 19 is_stmt 0 view .LVU177
 540 01ea 47F6FF71 		movw	r1, #32767
 541 01ee 002A     		cmp	r2, #0
 542 01f0 08BF     		it	eq
 543 01f2 0A46     		moveq	r2, r1
 544              	.LVL69:
 244:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 545              		.loc 1 244 19 view .LVU178
 546 01f4 2A44     		add	r2, r2, r5
 547 01f6 2946     		mov	r1, r5
 548              	.LVL70:
 549              	.L39:
 244:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 550              		.loc 1 244 19 view .LVU179
 551 01f8 0846     		mov	r0, r1
 552              	.LVL71:
 246:lib/chibios/os/hal/lib/streams/chprintf.c ****         ;
 553              		.loc 1 246 22 is_stmt 1 discriminator 1 view .LVU180
 554 01fa 11F8017B 		ldrb	r7, [r1], #1	@ zero_extendqisi2
 555 01fe 17B1     		cbz	r7, .L73
 556 0200 571A     		subs	r7, r2, r1
 246:lib/chibios/os/hal/lib/streams/chprintf.c ****         ;
 557              		.loc 1 246 22 is_stmt 0 discriminator 3 view .LVU181
 558 0202 002F     		cmp	r7, #0
 559 0204 F8DA     		bge	.L39
 560              	.L73:
 239:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((s = va_arg(ap, char *)) == 0) {
 561              		.loc 1 239 14 view .LVU182
 562 0206 4FF0200A 		mov	r10, #32
 563 020a 15E0     		b	.L36
 564              	.LVL72:
 565              	.L26:
 253:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, long);
 566              		.loc 1 253 7 is_stmt 1 view .LVU183
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 567              		.loc 1 257 11 is_stmt 0 view .LVU184
 568 020c 2E46     		mov	r6, r5
 253:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, long);
 569              		.loc 1 253 10 view .LVU185
 570 020e 1928     		cmp	r0, #25
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 571              		.loc 1 257 11 view .LVU186
 572 0210 56F8041B 		ldr	r1, [r6], #4
 573              	.LVL73:
 253:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, long);
 574              		.loc 1 253 10 view .LVU187
 575 0214 02D8     		bhi	.L40
 576              	.LVL74:
 577              	.L41:
 254:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 578              		.loc 1 254 9 is_stmt 1 view .LVU188
 254:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 579              		.loc 1 254 11 is_stmt 0 view .LVU189
 580 0216 2E46     		mov	r6, r5
 581              	.LVL75:
 254:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 582              		.loc 1 254 11 view .LVU190
 583 0218 56F8041B 		ldr	r1, [r6], #4
 584              	.LVL76:
 585              	.L40:
 259:lib/chibios/os/hal/lib/streams/chprintf.c ****         *p++ = '-';
 586              		.loc 1 259 7 is_stmt 1 view .LVU191
 259:lib/chibios/os/hal/lib/streams/chprintf.c ****         *p++ = '-';
 587              		.loc 1 259 10 is_stmt 0 view .LVU192
 588 021c 0029     		cmp	r1, #0
 589 021e 34DA     		bge	.L42
 260:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = -l;
 590              		.loc 1 260 9 is_stmt 1 view .LVU193
 591              	.LVL77:
 260:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = -l;
 592              		.loc 1 260 14 is_stmt 0 view .LVU194
 593 0220 2D22     		movs	r2, #45
 594              	.LVL78:
 260:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = -l;
 595              		.loc 1 260 14 view .LVU195
 596 0222 8DF80C20 		strb	r2, [sp, #12]
 261:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 597              		.loc 1 261 9 is_stmt 1 view .LVU196
 261:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 598              		.loc 1 261 11 is_stmt 0 view .LVU197
 599 0226 4942     		rsbs	r1, r1, #0
 600              	.LVL79:
 601              	.L120:
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 602              		.loc 1 265 13 view .LVU198
 603 0228 0DF10D00 		add	r0, sp, #13
 604              	.LVL80:
 605              	.L43:
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 606              		.loc 1 265 13 view .LVU199
 607 022c 0193     		str	r3, [sp, #4]
 267:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 608              		.loc 1 267 7 is_stmt 1 view .LVU200
 609              	.LVL81:
 610              	.LBB6:
 611              	.LBI6:
  72:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 612              		.loc 1 72 14 view .LVU201
 613              	.LBB7:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 614              		.loc 1 74 3 view .LVU202
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 615              		.loc 1 74 10 is_stmt 0 view .LVU203
 616 022e 0A22     		movs	r2, #10
 617              	.LVL82:
 618              	.L121:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 619              		.loc 1 74 10 view .LVU204
 620              	.LBE7:
 621              	.LBE6:
 622              	.LBB8:
 623              	.LBB9:
 624 0230 FFF7FEFF 		bl	long_to_string_with_divisor.constprop.0
 625              	.LVL83:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 626              		.loc 1 74 10 view .LVU205
 627              	.LBE9:
 628              	.LBE8:
 305:lib/chibios/os/hal/lib/streams/chprintf.c ****     default:
 629              		.loc 1 305 7 is_stmt 1 view .LVU206
 630 0234 019B     		ldr	r3, [sp, #4]
 151:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 631              		.loc 1 151 7 is_stmt 0 view .LVU207
 632 0236 03AD     		add	r5, sp, #12
 633              	.LVL84:
 634              	.L36:
 310:lib/chibios/os/hal/lib/streams/chprintf.c ****     if ((width -= i) < 0) {
 635              		.loc 1 310 5 is_stmt 1 view .LVU208
 310:lib/chibios/os/hal/lib/streams/chprintf.c ****     if ((width -= i) < 0) {
 636              		.loc 1 310 7 is_stmt 0 view .LVU209
 637 0238 471B     		subs	r7, r0, r5
 638              	.LVL85:
 311:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = 0;
 639              		.loc 1 311 5 is_stmt 1 view .LVU210
 311:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = 0;
 640              		.loc 1 311 16 is_stmt 0 view .LVU211
 641 023a ABEB0702 		sub	r2, fp, r7
 642              	.LVL86:
 311:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = 0;
 643              		.loc 1 311 8 view .LVU212
 644 023e 22EAE27B 		bic	fp, r2, r2, asr #31
 645              	.LVL87:
 314:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = -width;
 646              		.loc 1 314 5 is_stmt 1 view .LVU213
 314:lib/chibios/os/hal/lib/streams/chprintf.c ****       width = -width;
 647              		.loc 1 314 8 is_stmt 0 view .LVU214
 648 0242 03BB     		cbnz	r3, .L51
 315:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 649              		.loc 1 315 7 is_stmt 1 view .LVU215
 650              	.LVL88:
 317:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((*s == '-' || *s == '+') && filler == '0') {
 651              		.loc 1 317 5 view .LVU216
 317:lib/chibios/os/hal/lib/streams/chprintf.c ****       if ((*s == '-' || *s == '+') && filler == '0') {
 652              		.loc 1 317 8 is_stmt 0 view .LVU217
 653 0244 002A     		cmp	r2, #0
 654 0246 1DDD     		ble	.L75
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 655              		.loc 1 318 7 is_stmt 1 view .LVU218
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 656              		.loc 1 318 12 is_stmt 0 view .LVU219
 657 0248 2978     		ldrb	r1, [r5]	@ zero_extendqisi2
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 658              		.loc 1 318 10 view .LVU220
 659 024a 2D29     		cmp	r1, #45
 660 024c 01D0     		beq	.L52
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 661              		.loc 1 318 22 discriminator 2 view .LVU221
 662 024e 2B29     		cmp	r1, #43
 663 0250 0BD1     		bne	.L53
 664              	.L52:
 318:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)*s++);
 665              		.loc 1 318 36 discriminator 3 view .LVU222
 666 0252 BAF1300F 		cmp	r10, #48
 667 0256 08D1     		bne	.L53
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 668              		.loc 1 319 9 view .LVU223
 669 0258 D8F80030 		ldr	r3, [r8]
 670 025c 4046     		mov	r0, r8
 671              	.LVL89:
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 672              		.loc 1 319 9 view .LVU224
 673 025e DB68     		ldr	r3, [r3, #12]
 146:lib/chibios/os/hal/lib/streams/chprintf.c ****       continue;
 674              		.loc 1 146 8 view .LVU225
 675 0260 09F10109 		add	r9, r9, #1
 676              	.LVL90:
 321:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 677              		.loc 1 321 10 view .LVU226
 678 0264 013F     		subs	r7, r7, #1
 679              	.LVL91:
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 680              		.loc 1 319 9 is_stmt 1 view .LVU227
 681 0266 0135     		adds	r5, r5, #1
 682              	.LVL92:
 319:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 683              		.loc 1 319 9 is_stmt 0 view .LVU228
 684 0268 9847     		blx	r3
 685              	.LVL93:
 320:lib/chibios/os/hal/lib/streams/chprintf.c ****         i--;
 686              		.loc 1 320 9 is_stmt 1 view .LVU229
 321:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 687              		.loc 1 321 9 view .LVU230
 688              	.L53:
 315:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 689              		.loc 1 315 13 is_stmt 0 discriminator 1 view .LVU231
 690 026a CBF10003 		rsb	r3, fp, #0
 691              	.LVL94:
 692              	.L54:
 324:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 693              		.loc 1 324 9 discriminator 1 view .LVU232
 694 026e D8F80020 		ldr	r2, [r8]
 695 0272 0193     		str	r3, [sp, #4]
 696              	.LVL95:
 323:lib/chibios/os/hal/lib/streams/chprintf.c ****         streamPut(chp, (uint8_t)filler);
 697              		.loc 1 323 7 is_stmt 1 discriminator 1 view .LVU233
 324:lib/chibios/os/hal/lib/streams/chprintf.c ****         n++;
 698              		.loc 1 324 9 discriminator 1 view .LVU234
 699 0274 D268     		ldr	r2, [r2, #12]
 700 0276 5146     		mov	r1, r10
 701 0278 4046     		mov	r0, r8
 702 027a 9047     		blx	r2
 703              	.LVL96:
 325:lib/chibios/os/hal/lib/streams/chprintf.c ****       } while (++width != 0);
 704              		.loc 1 325 9 discriminator 1 view .LVU235
 326:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 705              		.loc 1 326 24 discriminator 1 view .LVU236
 326:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 706              		.loc 1 326 24 is_stmt 0 discriminator 1 view .LVU237
 707 027c 019B     		ldr	r3, [sp, #4]
 708 027e 0133     		adds	r3, r3, #1
 709              	.LVL97:
 326:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 710              		.loc 1 326 24 discriminator 1 view .LVU238
 711 0280 F5D1     		bne	.L54
 712 0282 D944     		add	r9, r9, fp
 713              	.LVL98:
 714              	.L75:
 326:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 715              		.loc 1 326 24 discriminator 1 view .LVU239
 716 0284 9B46     		mov	fp, r3
 717              	.L51:
 718 0286 3B46     		mov	r3, r7
 719 0288 1CE0     		b	.L55
 720              	.LVL99:
 721              	.L42:
 264:lib/chibios/os/hal/lib/streams/chprintf.c ****           *p++ = '+';
 722              		.loc 1 264 9 is_stmt 1 view .LVU240
 264:lib/chibios/os/hal/lib/streams/chprintf.c ****           *p++ = '+';
 723              		.loc 1 264 12 is_stmt 0 view .LVU241
 724 028a 1FB1     		cbz	r7, .L74
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 725              		.loc 1 265 11 is_stmt 1 view .LVU242
 726              	.LVL100:
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 727              		.loc 1 265 16 is_stmt 0 view .LVU243
 728 028c 2B22     		movs	r2, #43
 729              	.LVL101:
 265:lib/chibios/os/hal/lib/streams/chprintf.c ****         }
 730              		.loc 1 265 16 view .LVU244
 731 028e 8DF80C20 		strb	r2, [sp, #12]
 732 0292 C9E7     		b	.L120
 733              	.LVL102:
 734              	.L74:
 150:lib/chibios/os/hal/lib/streams/chprintf.c ****     s = tmpbuf;
 735              		.loc 1 150 7 view .LVU245
 736 0294 03A8     		add	r0, sp, #12
 737              	.LVL103:
 150:lib/chibios/os/hal/lib/streams/chprintf.c ****     s = tmpbuf;
 738              		.loc 1 150 7 view .LVU246
 739 0296 C9E7     		b	.L43
 740              	.LVL104:
 741              	.L46:
 288:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 742              		.loc 1 288 7 is_stmt 1 view .LVU247
 289:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'U':
 743              		.loc 1 289 7 view .LVU248
 298:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, unsigned long);
 744              		.loc 1 298 7 view .LVU249
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 745              		.loc 1 257 11 is_stmt 0 view .LVU250
 746 0298 2E1D     		adds	r6, r5, #4
 288:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 747              		.loc 1 288 9 view .LVU251
 748 029a 1022     		movs	r2, #16
 749              	.LVL105:
 750              	.L49:
 302:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 751              		.loc 1 302 9 is_stmt 1 view .LVU252
 302:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 752              		.loc 1 302 11 is_stmt 0 view .LVU253
 753 029c 2968     		ldr	r1, [r5]
 754              	.LVL106:
 302:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 755              		.loc 1 302 11 view .LVU254
 756 029e 0193     		str	r3, [sp, #4]
 757              	.LVL107:
 304:lib/chibios/os/hal/lib/streams/chprintf.c ****       break;
 758              		.loc 1 304 7 is_stmt 1 view .LVU255
 759              	.LBB11:
 760              	.LBI8:
  72:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 761              		.loc 1 72 14 view .LVU256
 762              	.LBB10:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 763              		.loc 1 74 3 view .LVU257
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 764              		.loc 1 74 10 is_stmt 0 view .LVU258
 765 02a0 03A8     		add	r0, sp, #12
 766              	.LVL108:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 767              		.loc 1 74 10 view .LVU259
 768 02a2 C5E7     		b	.L121
 769              	.LVL109:
 770              	.L48:
  74:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 771              		.loc 1 74 10 view .LVU260
 772              	.LBE10:
 773              	.LBE11:
 292:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 774              		.loc 1 292 7 is_stmt 1 view .LVU261
 293:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'O':
 775              		.loc 1 293 7 view .LVU262
 298:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, unsigned long);
 776              		.loc 1 298 7 view .LVU263
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 777              		.loc 1 257 11 is_stmt 0 view .LVU264
 778 02a4 2E1D     		adds	r6, r5, #4
 292:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 779              		.loc 1 292 9 view .LVU265
 780 02a6 0A22     		movs	r2, #10
 781 02a8 F8E7     		b	.L49
 782              	.LVL110:
 783              	.L71:
 288:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 784              		.loc 1 288 9 view .LVU266
 785 02aa 1022     		movs	r2, #16
 786 02ac 89E7     		b	.L27
 787              	.L72:
 292:lib/chibios/os/hal/lib/streams/chprintf.c ****       goto unsigned_common;
 788              		.loc 1 292 9 view .LVU267
 789 02ae 0A22     		movs	r2, #10
 790 02b0 87E7     		b	.L27
 791              	.LVL111:
 792              	.L56:
 329:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 793              		.loc 1 329 7 view .LVU268
 794 02b2 D8F80020 		ldr	r2, [r8]
 795 02b6 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 796              	.LVL112:
 329:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 797              		.loc 1 329 7 view .LVU269
 798 02ba D268     		ldr	r2, [r2, #12]
 799 02bc 0193     		str	r3, [sp, #4]
 329:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 800              		.loc 1 329 7 is_stmt 1 view .LVU270
 801              	.LVL113:
 329:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 802              		.loc 1 329 7 is_stmt 0 view .LVU271
 803 02be 4046     		mov	r0, r8
 804 02c0 9047     		blx	r2
 805              	.LVL114:
 330:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 806              		.loc 1 330 7 is_stmt 1 view .LVU272
 807 02c2 019B     		ldr	r3, [sp, #4]
 808              	.LVL115:
 809              	.L55:
 328:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)*s++);
 810              		.loc 1 328 16 view .LVU273
 328:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)*s++);
 811              		.loc 1 328 16 is_stmt 0 view .LVU274
 812 02c4 013B     		subs	r3, r3, #1
 813              	.LVL116:
 328:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)*s++);
 814              		.loc 1 328 16 view .LVU275
 815 02c6 F4D5     		bpl	.L56
 816 02c8 002F     		cmp	r7, #0
 817 02ca A8BF     		it	ge
 818 02cc B944     		addge	r9, r9, r7
 819 02ce 5D46     		mov	r5, fp
 820              	.LVL117:
 821              	.L57:
 333:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)filler);
 822              		.loc 1 333 12 is_stmt 1 view .LVU276
 823 02d0 1DB9     		cbnz	r5, .L58
 824 02d2 D944     		add	r9, r9, fp
 825 02d4 3546     		mov	r5, r6
 826              	.LVL118:
 827              	.L11:
 333:lib/chibios/os/hal/lib/streams/chprintf.c ****       streamPut(chp, (uint8_t)filler);
 828              		.loc 1 333 12 is_stmt 0 view .LVU277
 829 02d6 2346     		mov	r3, r4
 830 02d8 9AE6     		b	.L8
 831              	.LVL119:
 832              	.L58:
 334:lib/chibios/os/hal/lib/streams/chprintf.c ****       n++;
 833              		.loc 1 334 7 is_stmt 1 view .LVU278
 834 02da D8F80030 		ldr	r3, [r8]
 835 02de 5146     		mov	r1, r10
 836 02e0 DB68     		ldr	r3, [r3, #12]
 837 02e2 4046     		mov	r0, r8
 838 02e4 9847     		blx	r3
 839              	.LVL120:
 335:lib/chibios/os/hal/lib/streams/chprintf.c ****       width--;
 840              		.loc 1 335 7 view .LVU279
 336:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 841              		.loc 1 336 7 view .LVU280
 336:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 842              		.loc 1 336 12 is_stmt 0 view .LVU281
 843 02e6 013D     		subs	r5, r5, #1
 844              	.LVL121:
 336:lib/chibios/os/hal/lib/streams/chprintf.c ****     }
 845              		.loc 1 336 12 view .LVU282
 846 02e8 F2E7     		b	.L57
 847              	.LVL122:
 848              	.L60:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 849              		.loc 1 233 5 view .LVU283
 850 02ea A1F16300 		sub	r0, r1, #99
 851 02ee 1528     		cmp	r0, #21
 852 02f0 3FF612AF 		bhi	.L23
 853 02f4 01A6     		adr	r6, .L62
 854 02f6 56F820F0 		ldr	pc, [r6, r0, lsl #2]
 855 02fa 00BF     		.p2align 2
 856              	.L62:
 857 02fc C7010000 		.word	.L32+1
 858 0300 17020000 		.word	.L41+1
 859 0304 19010000 		.word	.L23+1
 860 0308 19010000 		.word	.L23+1
 861 030c 19010000 		.word	.L23+1
 862 0310 19010000 		.word	.L23+1
 863 0314 17020000 		.word	.L41+1
 864 0318 19010000 		.word	.L23+1
 865 031c 19010000 		.word	.L23+1
 866 0320 19010000 		.word	.L23+1
 867 0324 19010000 		.word	.L23+1
 868 0328 19010000 		.word	.L23+1
 869 032c 8D030000 		.word	.L65+1
 870 0330 99020000 		.word	.L46+1
 871 0334 19010000 		.word	.L23+1
 872 0338 19010000 		.word	.L23+1
 873 033c DD010000 		.word	.L30+1
 874 0340 19010000 		.word	.L23+1
 875 0344 A5020000 		.word	.L48+1
 876 0348 19010000 		.word	.L23+1
 877 034c 19010000 		.word	.L23+1
 878 0350 99020000 		.word	.L46+1
 879              		.p2align 1
 880              	.L61:
 881 0354 A1F14F02 		sub	r2, r1, #79
 882              	.LVL123:
 233:lib/chibios/os/hal/lib/streams/chprintf.c ****     case 'c':
 883              		.loc 1 233 5 view .LVU284
 884 0358 092A     		cmp	r2, #9
 885 035a 3FF6DDAE 		bhi	.L23
 886 035e 01A0     		adr	r0, .L64
 887 0360 50F822F0 		ldr	pc, [r0, r2, lsl #2]
 888              		.p2align 2
 889              	.L64:
 890 0364 8D030000 		.word	.L65+1
 891 0368 99020000 		.word	.L46+1
 892 036c 19010000 		.word	.L23+1
 893 0370 19010000 		.word	.L23+1
 894 0374 19010000 		.word	.L23+1
 895 0378 19010000 		.word	.L23+1
 896 037c A5020000 		.word	.L48+1
 897 0380 19010000 		.word	.L23+1
 898 0384 19010000 		.word	.L23+1
 899 0388 99020000 		.word	.L46+1
 900              		.p2align 1
 901              	.L65:
 902              	.LVL124:
 298:lib/chibios/os/hal/lib/streams/chprintf.c ****         l = va_arg(ap, unsigned long);
 903              		.loc 1 298 7 is_stmt 1 view .LVU285
 257:lib/chibios/os/hal/lib/streams/chprintf.c ****       }
 904              		.loc 1 257 11 is_stmt 0 view .LVU286
 905 038c 2E1D     		adds	r6, r5, #4
 906 038e 0822     		movs	r2, #8
 907 0390 84E7     		b	.L49
 908              	.L124:
 909 0392 00BF     		.align	2
 910              	.L123:
 911 0394 00000000 		.word	.LC0
 912              		.cfi_endproc
 913              	.LFE330:
 915              		.section	.text.chprintf,"ax",%progbits
 916              		.align	1
 917              		.global	chprintf
 918              		.syntax unified
 919              		.thumb
 920              		.thumb_func
 922              	chprintf:
 923              	.LVL125:
 924              	.LFB331:
 340:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 341:lib/chibios/os/hal/lib/streams/chprintf.c **** /**
 342:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @brief   System formatted output function.
 343:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @details This function implements a minimal @p printf() like functionality
 344:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          with output on a @p BaseSequentialStream.
 345:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The general parameters format is: %[-][width|*][.precision|*][l|L]p.
 346:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The following parameter types (p) are supported:
 347:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>x</b> hexadecimal integer.
 348:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>X</b> hexadecimal long.
 349:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>o</b> octal integer.
 350:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>O</b> octal long.
 351:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>d</b> decimal signed integer.
 352:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>D</b> decimal signed long.
 353:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>u</b> decimal unsigned integer.
 354:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>U</b> decimal unsigned long.
 355:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>c</b> character.
 356:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>s</b> string.
 357:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          .
 358:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 359:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] chp       pointer to a @p BaseSequentialStream implementing object
 360:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] fmt       formatting string
 361:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @return              The number of bytes that would have been
 362:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      written to @p chp if no stream error occurs
 363:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 364:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @api
 365:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
 366:lib/chibios/os/hal/lib/streams/chprintf.c **** int chprintf(BaseSequentialStream *chp, const char *fmt, ...) {
 925              		.loc 1 366 63 is_stmt 1 view -0
 926              		.cfi_startproc
 927              		@ args = 4, pretend = 12, frame = 8
 928              		@ frame_needed = 0, uses_anonymous_args = 1
 367:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 929              		.loc 1 367 3 view .LVU288
 368:lib/chibios/os/hal/lib/streams/chprintf.c ****   int formatted_bytes;
 930              		.loc 1 368 3 view .LVU289
 369:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 370:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_start(ap, fmt);
 931              		.loc 1 370 3 view .LVU290
 366:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 932              		.loc 1 366 63 is_stmt 0 view .LVU291
 933 0000 0EB4     		push	{r1, r2, r3}
 934              		.cfi_def_cfa_offset 12
 935              		.cfi_offset 1, -12
 936              		.cfi_offset 2, -8
 937              		.cfi_offset 3, -4
 938 0002 03B5     		push	{r0, r1, lr}
 939              		.cfi_def_cfa_offset 24
 940              		.cfi_offset 14, -16
 366:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 941              		.loc 1 366 63 view .LVU292
 942 0004 03AA     		add	r2, sp, #12
 943 0006 52F8041B 		ldr	r1, [r2], #4
 944              		.loc 1 370 3 view .LVU293
 945 000a 0192     		str	r2, [sp, #4]
 371:lib/chibios/os/hal/lib/streams/chprintf.c ****   formatted_bytes = chvprintf(chp, fmt, ap);
 946              		.loc 1 371 3 is_stmt 1 view .LVU294
 947              		.loc 1 371 21 is_stmt 0 view .LVU295
 948 000c FFF7FEFF 		bl	chvprintf
 949              	.LVL126:
 372:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_end(ap);
 950              		.loc 1 372 3 is_stmt 1 view .LVU296
 373:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 374:lib/chibios/os/hal/lib/streams/chprintf.c ****   return formatted_bytes;
 951              		.loc 1 374 3 view .LVU297
 375:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 952              		.loc 1 375 1 is_stmt 0 view .LVU298
 953 0010 02B0     		add	sp, sp, #8
 954              		.cfi_def_cfa_offset 16
 955              		@ sp needed
 956 0012 5DF804EB 		ldr	lr, [sp], #4
 957              		.cfi_restore 14
 958              		.cfi_def_cfa_offset 12
 959 0016 03B0     		add	sp, sp, #12
 960              		.cfi_restore 3
 961              		.cfi_restore 2
 962              		.cfi_restore 1
 963              		.cfi_def_cfa_offset 0
 964 0018 7047     		bx	lr
 965              		.cfi_endproc
 966              	.LFE331:
 968              		.section	.text.chvsnprintf,"ax",%progbits
 969              		.align	1
 970              		.global	chvsnprintf
 971              		.syntax unified
 972              		.thumb
 973              		.thumb_func
 975              	chvsnprintf:
 976              	.LVL127:
 977              	.LFB333:
 376:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 377:lib/chibios/os/hal/lib/streams/chprintf.c **** /**
 378:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @brief   System formatted output function.
 379:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @details This function implements a minimal @p snprintf()-like functionality.
 380:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The general parameters format is: %[-][width|*][.precision|*][l|L]p.
 381:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The following parameter types (p) are supported:
 382:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>x</b> hexadecimal integer.
 383:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>X</b> hexadecimal long.
 384:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>o</b> octal integer.
 385:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>O</b> octal long.
 386:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>d</b> decimal signed integer.
 387:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>D</b> decimal signed long.
 388:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>u</b> decimal unsigned integer.
 389:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>U</b> decimal unsigned long.
 390:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>c</b> character.
 391:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>s</b> string.
 392:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          .
 393:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @post    @p str is NUL-terminated, unless @p size is 0.
 394:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 395:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] str       pointer to a buffer
 396:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] size      maximum size of the buffer
 397:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] fmt       formatting string
 398:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @return              The number of characters (excluding the
 399:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      terminating NUL byte) that would have been
 400:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      stored in @p str if there was room.
 401:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 402:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @api
 403:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
 404:lib/chibios/os/hal/lib/streams/chprintf.c **** int chsnprintf(char *str, size_t size, const char *fmt, ...) {
 405:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 406:lib/chibios/os/hal/lib/streams/chprintf.c ****   int retval;
 407:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 408:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Performing the print operation.*/
 409:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_start(ap, fmt);
 410:lib/chibios/os/hal/lib/streams/chprintf.c ****   retval = chvsnprintf(str, size, fmt, ap);
 411:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_end(ap);
 412:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 413:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Return number of bytes that would have been written.*/
 414:lib/chibios/os/hal/lib/streams/chprintf.c ****   return retval;
 415:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 416:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 417:lib/chibios/os/hal/lib/streams/chprintf.c **** /**
 418:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @brief   System formatted output function.
 419:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @details This function implements a minimal @p vsnprintf()-like functionality.
 420:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The general parameters format is: %[-][width|*][.precision|*][l|L]p.
 421:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          The following parameter types (p) are supported:
 422:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>x</b> hexadecimal integer.
 423:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>X</b> hexadecimal long.
 424:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>o</b> octal integer.
 425:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>O</b> octal long.
 426:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>d</b> decimal signed integer.
 427:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>D</b> decimal signed long.
 428:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>u</b> decimal unsigned integer.
 429:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>U</b> decimal unsigned long.
 430:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>c</b> character.
 431:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          - <b>s</b> string.
 432:lib/chibios/os/hal/lib/streams/chprintf.c ****  *          .
 433:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @post    @p str is NUL-terminated, unless @p size is 0.
 434:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 435:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] str       pointer to a buffer
 436:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] size      maximum size of the buffer
 437:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] fmt       formatting string
 438:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @param[in] ap        list of parameters
 439:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @return              The number of characters (excluding the
 440:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      terminating NUL byte) that would have been
 441:lib/chibios/os/hal/lib/streams/chprintf.c ****  *                      stored in @p str if there was room.
 442:lib/chibios/os/hal/lib/streams/chprintf.c ****  *
 443:lib/chibios/os/hal/lib/streams/chprintf.c ****  * @api
 444:lib/chibios/os/hal/lib/streams/chprintf.c ****  */
 445:lib/chibios/os/hal/lib/streams/chprintf.c **** int chvsnprintf(char *str, size_t size, const char *fmt, va_list ap) {
 978              		.loc 1 445 70 is_stmt 1 view -0
 979              		.cfi_startproc
 980              		@ args = 0, pretend = 0, frame = 24
 981              		@ frame_needed = 0, uses_anonymous_args = 0
 446:lib/chibios/os/hal/lib/streams/chprintf.c ****   MemoryStream ms;
 982              		.loc 1 446 3 view .LVU300
 447:lib/chibios/os/hal/lib/streams/chprintf.c ****   BaseSequentialStream *chp;
 983              		.loc 1 447 3 view .LVU301
 448:lib/chibios/os/hal/lib/streams/chprintf.c ****   size_t size_wo_nul;
 984              		.loc 1 448 3 view .LVU302
 449:lib/chibios/os/hal/lib/streams/chprintf.c ****   int retval;
 985              		.loc 1 449 3 view .LVU303
 450:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 451:lib/chibios/os/hal/lib/streams/chprintf.c ****   if (size > 0)
 986              		.loc 1 451 3 view .LVU304
 445:lib/chibios/os/hal/lib/streams/chprintf.c ****   MemoryStream ms;
 987              		.loc 1 445 70 is_stmt 0 view .LVU305
 988 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 989              		.cfi_def_cfa_offset 20
 990              		.cfi_offset 4, -20
 991              		.cfi_offset 5, -16
 992              		.cfi_offset 6, -12
 993              		.cfi_offset 7, -8
 994              		.cfi_offset 14, -4
 995 0002 0546     		mov	r5, r0
 996 0004 87B0     		sub	sp, sp, #28
 997              		.cfi_def_cfa_offset 48
 445:lib/chibios/os/hal/lib/streams/chprintf.c ****   MemoryStream ms;
 998              		.loc 1 445 70 view .LVU306
 999 0006 1646     		mov	r6, r2
 1000 0008 1F46     		mov	r7, r3
 1001              	.LVL128:
 1002              		.loc 1 451 6 view .LVU307
 1003 000a 0C46     		mov	r4, r1
 1004 000c 89B1     		cbz	r1, .L129
 452:lib/chibios/os/hal/lib/streams/chprintf.c ****     size_wo_nul = size - 1;
 1005              		.loc 1 452 5 is_stmt 1 view .LVU308
 1006              		.loc 1 452 17 is_stmt 0 view .LVU309
 1007 000e 4A1E     		subs	r2, r1, #1
 1008              	.LVL129:
 1009              	.L127:
 453:lib/chibios/os/hal/lib/streams/chprintf.c ****   else
 454:lib/chibios/os/hal/lib/streams/chprintf.c ****     size_wo_nul = 0;
 455:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 456:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Memory stream object to be used as a string writer, reserving one
 457:lib/chibios/os/hal/lib/streams/chprintf.c ****      byte for the final zero.*/
 458:lib/chibios/os/hal/lib/streams/chprintf.c ****   msObjectInit(&ms, (uint8_t *)str, size_wo_nul, 0);
 1010              		.loc 1 458 3 is_stmt 1 view .LVU310
 1011 0010 0023     		movs	r3, #0
 1012 0012 2946     		mov	r1, r5
 1013              	.LVL130:
 1014              		.loc 1 458 3 is_stmt 0 view .LVU311
 1015 0014 01A8     		add	r0, sp, #4
 1016              	.LVL131:
 1017              		.loc 1 458 3 view .LVU312
 1018 0016 FFF7FEFF 		bl	msObjectInit
 1019              	.LVL132:
 459:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 460:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Performing the print operation using the common code.*/
 461:lib/chibios/os/hal/lib/streams/chprintf.c ****   chp = (BaseSequentialStream *)(void *)&ms;
 1020              		.loc 1 461 3 is_stmt 1 view .LVU313
 462:lib/chibios/os/hal/lib/streams/chprintf.c ****   retval = chvprintf(chp, fmt, ap);
 1021              		.loc 1 462 3 view .LVU314
 1022              		.loc 1 462 12 is_stmt 0 view .LVU315
 1023 001a 3A46     		mov	r2, r7
 1024 001c 3146     		mov	r1, r6
 1025 001e 01A8     		add	r0, sp, #4
 1026              	.LVL133:
 1027              		.loc 1 462 12 view .LVU316
 1028 0020 FFF7FEFF 		bl	chvprintf
 1029              	.LVL134:
 463:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 464:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Terminate with a zero, unless size==0.*/
 465:lib/chibios/os/hal/lib/streams/chprintf.c ****   if (ms.eos < size) {
 1030              		.loc 1 465 3 is_stmt 1 view .LVU317
 1031              		.loc 1 465 9 is_stmt 0 view .LVU318
 1032 0024 049B     		ldr	r3, [sp, #16]
 1033              		.loc 1 465 6 view .LVU319
 1034 0026 A342     		cmp	r3, r4
 466:lib/chibios/os/hal/lib/streams/chprintf.c ****     str[ms.eos] = 0;
 1035              		.loc 1 466 5 is_stmt 1 view .LVU320
 1036              		.loc 1 466 17 is_stmt 0 view .LVU321
 1037 0028 3CBF     		itt	cc
 1038 002a 0022     		movcc	r2, #0
 1039 002c EA54     		strbcc	r2, [r5, r3]
 467:lib/chibios/os/hal/lib/streams/chprintf.c ****   }
 468:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 469:lib/chibios/os/hal/lib/streams/chprintf.c ****   /* Return number of bytes that would have been written.*/
 470:lib/chibios/os/hal/lib/streams/chprintf.c ****   return retval;
 1040              		.loc 1 470 3 is_stmt 1 view .LVU322
 471:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 1041              		.loc 1 471 1 is_stmt 0 view .LVU323
 1042 002e 07B0     		add	sp, sp, #28
 1043              		.cfi_remember_state
 1044              		.cfi_def_cfa_offset 20
 1045              		@ sp needed
 1046 0030 F0BD     		pop	{r4, r5, r6, r7, pc}
 1047              	.LVL135:
 1048              	.L129:
 1049              		.cfi_restore_state
 454:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 1050              		.loc 1 454 17 view .LVU324
 1051 0032 0A46     		mov	r2, r1
 1052              	.LVL136:
 454:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 1053              		.loc 1 454 17 view .LVU325
 1054 0034 ECE7     		b	.L127
 1055              		.cfi_endproc
 1056              	.LFE333:
 1058              		.section	.text.chsnprintf,"ax",%progbits
 1059              		.align	1
 1060              		.global	chsnprintf
 1061              		.syntax unified
 1062              		.thumb
 1063              		.thumb_func
 1065              	chsnprintf:
 1066              	.LVL137:
 1067              	.LFB332:
 404:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 1068              		.loc 1 404 62 is_stmt 1 view -0
 1069              		.cfi_startproc
 1070              		@ args = 4, pretend = 8, frame = 8
 1071              		@ frame_needed = 0, uses_anonymous_args = 1
 405:lib/chibios/os/hal/lib/streams/chprintf.c ****   int retval;
 1072              		.loc 1 405 3 view .LVU327
 406:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 1073              		.loc 1 406 3 view .LVU328
 409:lib/chibios/os/hal/lib/streams/chprintf.c ****   retval = chvsnprintf(str, size, fmt, ap);
 1074              		.loc 1 409 3 view .LVU329
 404:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 1075              		.loc 1 404 62 is_stmt 0 view .LVU330
 1076 0000 0CB4     		push	{r2, r3}
 1077              		.cfi_def_cfa_offset 8
 1078              		.cfi_offset 2, -8
 1079              		.cfi_offset 3, -4
 1080 0002 07B5     		push	{r0, r1, r2, lr}
 1081              		.cfi_def_cfa_offset 24
 1082              		.cfi_offset 14, -12
 404:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_list ap;
 1083              		.loc 1 404 62 view .LVU331
 1084 0004 04AB     		add	r3, sp, #16
 1085 0006 53F8042B 		ldr	r2, [r3], #4
 409:lib/chibios/os/hal/lib/streams/chprintf.c ****   retval = chvsnprintf(str, size, fmt, ap);
 1086              		.loc 1 409 3 view .LVU332
 1087 000a 0193     		str	r3, [sp, #4]
 410:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_end(ap);
 1088              		.loc 1 410 3 is_stmt 1 view .LVU333
 410:lib/chibios/os/hal/lib/streams/chprintf.c ****   va_end(ap);
 1089              		.loc 1 410 12 is_stmt 0 view .LVU334
 1090 000c FFF7FEFF 		bl	chvsnprintf
 1091              	.LVL138:
 411:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 1092              		.loc 1 411 3 is_stmt 1 view .LVU335
 414:lib/chibios/os/hal/lib/streams/chprintf.c **** }
 1093              		.loc 1 414 3 view .LVU336
 415:lib/chibios/os/hal/lib/streams/chprintf.c **** 
 1094              		.loc 1 415 1 is_stmt 0 view .LVU337
 1095 0010 03B0     		add	sp, sp, #12
 1096              		.cfi_def_cfa_offset 12
 1097              		@ sp needed
 1098 0012 5DF804EB 		ldr	lr, [sp], #4
 1099              		.cfi_restore 14
 1100              		.cfi_def_cfa_offset 8
 1101 0016 02B0     		add	sp, sp, #8
 1102              		.cfi_restore 3
 1103              		.cfi_restore 2
 1104              		.cfi_def_cfa_offset 0
 1105 0018 7047     		bx	lr
 1106              		.cfi_endproc
 1107              	.LFE332:
 1109              		.text
 1110              	.Letext0:
 1111              		.file 2 "/usr/lib/gcc/arm-none-eabi/12.2.0/include/stddef.h"
 1112              		.file 3 "/usr/arm-none-eabi/include/machine/_default_types.h"
 1113              		.file 4 "/usr/arm-none-eabi/include/sys/_stdint.h"
 1114              		.file 5 "./lib/chibios/os/common/ports/ARMCMx/compilers/GCC/chtypes.h"
 1115              		.file 6 "./lib/chibios/os/hal/include/hal_streams.h"
 1116              		.file 7 "/usr/lib/gcc/arm-none-eabi/12.2.0/include/stdarg.h"
 1117              		.file 8 "lib/chibios/os/hal/lib/streams/memstreams.h"
 1118              		.file 9 "<built-in>"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 chprintf.c
     /tmp/ccFx5C44.s:21     .text.long_to_string_with_divisor.constprop.0:0000000000000000 $t
     /tmp/ccFx5C44.s:26     .text.long_to_string_with_divisor.constprop.0:0000000000000000 long_to_string_with_divisor.constprop.0
     /tmp/ccFx5C44.s:116    .text.chvprintf:0000000000000000 $t
     /tmp/ccFx5C44.s:122    .text.chvprintf:0000000000000000 chvprintf
     /tmp/ccFx5C44.s:442    .text.chvprintf:0000000000000130 $d
     /tmp/ccFx5C44.s:464    .text.chvprintf:0000000000000188 $t
     /tmp/ccFx5C44.s:475    .text.chvprintf:0000000000000198 $d
     /tmp/ccFx5C44.s:485    .text.chvprintf:00000000000001c0 $t
     /tmp/ccFx5C44.s:857    .text.chvprintf:00000000000002fc $d
     /tmp/ccFx5C44.s:879    .text.chvprintf:0000000000000354 $t
     /tmp/ccFx5C44.s:890    .text.chvprintf:0000000000000364 $d
     /tmp/ccFx5C44.s:900    .text.chvprintf:000000000000038c $t
     /tmp/ccFx5C44.s:911    .text.chvprintf:0000000000000394 $d
     /tmp/ccFx5C44.s:916    .text.chprintf:0000000000000000 $t
     /tmp/ccFx5C44.s:922    .text.chprintf:0000000000000000 chprintf
     /tmp/ccFx5C44.s:969    .text.chvsnprintf:0000000000000000 $t
     /tmp/ccFx5C44.s:975    .text.chvsnprintf:0000000000000000 chvsnprintf
     /tmp/ccFx5C44.s:1059   .text.chsnprintf:0000000000000000 $t
     /tmp/ccFx5C44.s:1065   .text.chsnprintf:0000000000000000 chsnprintf

UNDEFINED SYMBOLS
msObjectInit
