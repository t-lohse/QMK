   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 4
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 2
  15              		.file	"matrix.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.file 1 "keyboards/planck/rev6_drop/matrix.c"
  20              		.section	.text.matrix_init_user,"ax",%progbits
  21              		.align	1
  22              		.weak	matrix_init_user
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	matrix_init_user:
  28              	.LFB285:
   1:keyboards/planck/rev6_drop/matrix.c **** /*
   2:keyboards/planck/rev6_drop/matrix.c ****  * Copyright 2018 Jack Humbert <jack.humb@gmail.com>
   3:keyboards/planck/rev6_drop/matrix.c ****  *
   4:keyboards/planck/rev6_drop/matrix.c ****  * This program is free software: you can redistribute it and/or modify
   5:keyboards/planck/rev6_drop/matrix.c ****  * it under the terms of the GNU General Public License as published by
   6:keyboards/planck/rev6_drop/matrix.c ****  * the Free Software Foundation, either version 2 of the License, or
   7:keyboards/planck/rev6_drop/matrix.c ****  * (at your option) any later version.
   8:keyboards/planck/rev6_drop/matrix.c ****  *
   9:keyboards/planck/rev6_drop/matrix.c ****  * This program is distributed in the hope that it will be useful,
  10:keyboards/planck/rev6_drop/matrix.c ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  11:keyboards/planck/rev6_drop/matrix.c ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  12:keyboards/planck/rev6_drop/matrix.c ****  * GNU General Public License for more details.
  13:keyboards/planck/rev6_drop/matrix.c ****  *
  14:keyboards/planck/rev6_drop/matrix.c ****  * You should have received a copy of the GNU General Public License
  15:keyboards/planck/rev6_drop/matrix.c ****  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  16:keyboards/planck/rev6_drop/matrix.c ****  */
  17:keyboards/planck/rev6_drop/matrix.c **** 
  18:keyboards/planck/rev6_drop/matrix.c **** #include <stdint.h>
  19:keyboards/planck/rev6_drop/matrix.c **** #include <stdbool.h>
  20:keyboards/planck/rev6_drop/matrix.c **** #include <string.h>
  21:keyboards/planck/rev6_drop/matrix.c **** #include "hal.h"
  22:keyboards/planck/rev6_drop/matrix.c **** #include "timer.h"
  23:keyboards/planck/rev6_drop/matrix.c **** #include "wait.h"
  24:keyboards/planck/rev6_drop/matrix.c **** #include "debug.h"
  25:keyboards/planck/rev6_drop/matrix.c **** #include "matrix.h"
  26:keyboards/planck/rev6_drop/matrix.c **** 
  27:keyboards/planck/rev6_drop/matrix.c **** /*
  28:keyboards/planck/rev6_drop/matrix.c ****  *     col: { B11, B10, B2, B1, A7, B0 }
  29:keyboards/planck/rev6_drop/matrix.c ****  *     row: { A10, A9, A8, B15, C13, C14, C15, A2 }
  30:keyboards/planck/rev6_drop/matrix.c ****  */
  31:keyboards/planck/rev6_drop/matrix.c **** /* matrix state(1:on, 0:off) */
  32:keyboards/planck/rev6_drop/matrix.c **** static matrix_row_t matrix[MATRIX_ROWS];
  33:keyboards/planck/rev6_drop/matrix.c **** static matrix_row_t matrix_debouncing[MATRIX_COLS];
  34:keyboards/planck/rev6_drop/matrix.c **** static bool         debouncing      = false;
  35:keyboards/planck/rev6_drop/matrix.c **** static uint16_t     debouncing_time = 0;
  36:keyboards/planck/rev6_drop/matrix.c **** 
  37:keyboards/planck/rev6_drop/matrix.c **** __attribute__((weak)) void matrix_init_user(void) {}
  29              		.loc 1 37 51 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              		.loc 1 37 52 view .LVU1
  35 0000 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE285:
  39              		.section	.text.matrix_scan_user,"ax",%progbits
  40              		.align	1
  41              		.weak	matrix_scan_user
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  46              	matrix_scan_user:
  47              	.LFB295:
  48              		.cfi_startproc
  38:keyboards/planck/rev6_drop/matrix.c **** 
  39:keyboards/planck/rev6_drop/matrix.c **** __attribute__((weak)) void matrix_scan_user(void) {}
  49              		.loc 1 39 28 view -0
  50              		@ args = 0, pretend = 0, frame = 0
  51              		@ frame_needed = 0, uses_anonymous_args = 0
  52              		@ link register save eliminated.
  53 0000 7047     		bx	lr
  54              		.cfi_endproc
  55              	.LFE295:
  57              		.section	.text.matrix_init_kb,"ax",%progbits
  58              		.align	1
  59              		.weak	matrix_init_kb
  60              		.syntax unified
  61              		.thumb
  62              		.thumb_func
  64              	matrix_init_kb:
  65              	.LFB287:
  40:keyboards/planck/rev6_drop/matrix.c **** 
  41:keyboards/planck/rev6_drop/matrix.c **** __attribute__((weak)) void matrix_init_kb(void) { matrix_init_user(); }
  66              		.loc 1 41 49 view -0
  67              		.cfi_startproc
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
  70              		.loc 1 41 51 view .LVU4
  71              		.loc 1 41 49 is_stmt 0 view .LVU5
  72 0000 08B5     		push	{r3, lr}
  73              		.cfi_def_cfa_offset 8
  74              		.cfi_offset 3, -8
  75              		.cfi_offset 14, -4
  76              		.loc 1 41 51 view .LVU6
  77 0002 FFF7FEFF 		bl	matrix_init_user
  78              	.LVL0:
  79              		.loc 1 41 71 view .LVU7
  80 0006 08BD     		pop	{r3, pc}
  81              		.cfi_endproc
  82              	.LFE287:
  84              		.section	.text.matrix_scan_kb,"ax",%progbits
  85              		.align	1
  86              		.weak	matrix_scan_kb
  87              		.syntax unified
  88              		.thumb
  89              		.thumb_func
  91              	matrix_scan_kb:
  92              	.LFB288:
  42:keyboards/planck/rev6_drop/matrix.c **** 
  43:keyboards/planck/rev6_drop/matrix.c **** __attribute__((weak)) void matrix_scan_kb(void) { matrix_scan_user(); }
  93              		.loc 1 43 49 is_stmt 1 view -0
  94              		.cfi_startproc
  95              		@ args = 0, pretend = 0, frame = 0
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97              		.loc 1 43 51 view .LVU9
  98              		.loc 1 43 49 is_stmt 0 view .LVU10
  99 0000 08B5     		push	{r3, lr}
 100              		.cfi_def_cfa_offset 8
 101              		.cfi_offset 3, -8
 102              		.cfi_offset 14, -4
 103              		.loc 1 43 51 view .LVU11
 104 0002 FFF7FEFF 		bl	matrix_scan_user
 105              	.LVL1:
 106              		.loc 1 43 71 view .LVU12
 107 0006 08BD     		pop	{r3, pc}
 108              		.cfi_endproc
 109              	.LFE288:
 111              		.section	.rodata.matrix_init.str1.1,"aMS",%progbits,1
 112              	.LC0:
 113 0000 6D617472 		.ascii	"matrix init\012\000"
 113      69782069 
 113      6E69740A 
 113      00
 114              		.section	.text.matrix_init,"ax",%progbits
 115              		.align	1
 116              		.global	matrix_init
 117              		.syntax unified
 118              		.thumb
 119              		.thumb_func
 121              	matrix_init:
 122              	.LFB289:
  44:keyboards/planck/rev6_drop/matrix.c **** 
  45:keyboards/planck/rev6_drop/matrix.c **** void matrix_init(void) {
 123              		.loc 1 45 24 is_stmt 1 view -0
 124              		.cfi_startproc
 125              		@ args = 0, pretend = 0, frame = 0
 126              		@ frame_needed = 0, uses_anonymous_args = 0
  46:keyboards/planck/rev6_drop/matrix.c ****     dprintf("matrix init\n");
 127              		.loc 1 46 5 view .LVU14
 128              		.loc 1 46 5 view .LVU15
  45:keyboards/planck/rev6_drop/matrix.c ****     dprintf("matrix init\n");
 129              		.loc 1 45 24 is_stmt 0 view .LVU16
 130 0000 08B5     		push	{r3, lr}
 131              		.cfi_def_cfa_offset 8
 132              		.cfi_offset 3, -8
 133              		.cfi_offset 14, -4
 134              		.loc 1 46 5 view .LVU17
 135 0002 334B     		ldr	r3, .L10
 136 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 137 0006 DB07     		lsls	r3, r3, #31
 138 0008 02D5     		bpl	.L6
 139              		.loc 1 46 5 is_stmt 1 discriminator 1 view .LVU18
 140 000a 3248     		ldr	r0, .L10+4
 141 000c FFF7FEFF 		bl	printf_
 142              	.LVL2:
 143              	.L6:
 144              		.loc 1 46 5 discriminator 3 view .LVU19
  47:keyboards/planck/rev6_drop/matrix.c ****     // debug_matrix = true;
  48:keyboards/planck/rev6_drop/matrix.c **** 
  49:keyboards/planck/rev6_drop/matrix.c ****     // actual matrix setup
  50:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOB, 11, PAL_MODE_OUTPUT_PUSHPULL);
 145              		.loc 1 50 5 discriminator 3 view .LVU20
 146 0010 3148     		ldr	r0, .L10+8
 147 0012 0122     		movs	r2, #1
 148 0014 4FF40061 		mov	r1, #2048
 149 0018 FFF7FEFF 		bl	_pal_lld_setgroupmode
 150              	.LVL3:
  51:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOB, 10, PAL_MODE_OUTPUT_PUSHPULL);
 151              		.loc 1 51 5 discriminator 3 view .LVU21
 152 001c 2E48     		ldr	r0, .L10+8
 153 001e 0122     		movs	r2, #1
 154 0020 4FF48061 		mov	r1, #1024
 155 0024 FFF7FEFF 		bl	_pal_lld_setgroupmode
 156              	.LVL4:
  52:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOB, 2, PAL_MODE_OUTPUT_PUSHPULL);
 157              		.loc 1 52 5 discriminator 3 view .LVU22
 158 0028 2B48     		ldr	r0, .L10+8
 159 002a 0122     		movs	r2, #1
 160 002c 0421     		movs	r1, #4
 161 002e FFF7FEFF 		bl	_pal_lld_setgroupmode
 162              	.LVL5:
  53:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOB, 1, PAL_MODE_OUTPUT_PUSHPULL);
 163              		.loc 1 53 5 discriminator 3 view .LVU23
 164 0032 2948     		ldr	r0, .L10+8
 165 0034 0122     		movs	r2, #1
 166 0036 0221     		movs	r1, #2
 167 0038 FFF7FEFF 		bl	_pal_lld_setgroupmode
 168              	.LVL6:
  54:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOA, 7, PAL_MODE_OUTPUT_PUSHPULL);
 169              		.loc 1 54 5 discriminator 3 view .LVU24
 170 003c 0122     		movs	r2, #1
 171 003e 8021     		movs	r1, #128
 172 0040 4FF09040 		mov	r0, #1207959552
 173 0044 FFF7FEFF 		bl	_pal_lld_setgroupmode
 174              	.LVL7:
  55:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOB, 0, PAL_MODE_OUTPUT_PUSHPULL);
 175              		.loc 1 55 5 discriminator 3 view .LVU25
 176 0048 0122     		movs	r2, #1
 177 004a 1146     		mov	r1, r2
 178 004c 2248     		ldr	r0, .L10+8
 179 004e FFF7FEFF 		bl	_pal_lld_setgroupmode
 180              	.LVL8:
  56:keyboards/planck/rev6_drop/matrix.c **** 
  57:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOA, 10, PAL_MODE_INPUT_PULLDOWN);
 181              		.loc 1 57 5 discriminator 3 view .LVU26
 182 0052 4022     		movs	r2, #64
 183 0054 4FF48061 		mov	r1, #1024
 184 0058 4FF09040 		mov	r0, #1207959552
 185 005c FFF7FEFF 		bl	_pal_lld_setgroupmode
 186              	.LVL9:
  58:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOA, 9, PAL_MODE_INPUT_PULLDOWN);
 187              		.loc 1 58 5 discriminator 3 view .LVU27
 188 0060 4022     		movs	r2, #64
 189 0062 4FF40071 		mov	r1, #512
 190 0066 4FF09040 		mov	r0, #1207959552
 191 006a FFF7FEFF 		bl	_pal_lld_setgroupmode
 192              	.LVL10:
  59:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOA, 8, PAL_MODE_INPUT_PULLDOWN);
 193              		.loc 1 59 5 discriminator 3 view .LVU28
 194 006e 4022     		movs	r2, #64
 195 0070 4FF48071 		mov	r1, #256
 196 0074 4FF09040 		mov	r0, #1207959552
 197 0078 FFF7FEFF 		bl	_pal_lld_setgroupmode
 198              	.LVL11:
  60:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOB, 15, PAL_MODE_INPUT_PULLDOWN);
 199              		.loc 1 60 5 discriminator 3 view .LVU29
 200 007c 1648     		ldr	r0, .L10+8
 201 007e 4022     		movs	r2, #64
 202 0080 4FF40041 		mov	r1, #32768
 203 0084 FFF7FEFF 		bl	_pal_lld_setgroupmode
 204              	.LVL12:
  61:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOC, 13, PAL_MODE_INPUT_PULLDOWN);
 205              		.loc 1 61 5 discriminator 3 view .LVU30
 206 0088 1448     		ldr	r0, .L10+12
 207 008a 4022     		movs	r2, #64
 208 008c 4FF40051 		mov	r1, #8192
 209 0090 FFF7FEFF 		bl	_pal_lld_setgroupmode
 210              	.LVL13:
  62:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOC, 14, PAL_MODE_INPUT_PULLDOWN);
 211              		.loc 1 62 5 discriminator 3 view .LVU31
 212 0094 1148     		ldr	r0, .L10+12
 213 0096 4022     		movs	r2, #64
 214 0098 4FF48041 		mov	r1, #16384
 215 009c FFF7FEFF 		bl	_pal_lld_setgroupmode
 216              	.LVL14:
  63:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOC, 15, PAL_MODE_INPUT_PULLDOWN);
 217              		.loc 1 63 5 discriminator 3 view .LVU32
 218 00a0 0E48     		ldr	r0, .L10+12
 219 00a2 4022     		movs	r2, #64
 220 00a4 4FF40041 		mov	r1, #32768
 221 00a8 FFF7FEFF 		bl	_pal_lld_setgroupmode
 222              	.LVL15:
  64:keyboards/planck/rev6_drop/matrix.c ****     palSetPadMode(GPIOA, 2, PAL_MODE_INPUT_PULLDOWN);
 223              		.loc 1 64 5 discriminator 3 view .LVU33
 224 00ac 4022     		movs	r2, #64
 225 00ae 0421     		movs	r1, #4
 226 00b0 4FF09040 		mov	r0, #1207959552
 227 00b4 FFF7FEFF 		bl	_pal_lld_setgroupmode
 228              	.LVL16:
  65:keyboards/planck/rev6_drop/matrix.c **** 
  66:keyboards/planck/rev6_drop/matrix.c ****     memset(matrix, 0, MATRIX_ROWS * sizeof(matrix_row_t));
 229              		.loc 1 66 5 discriminator 3 view .LVU34
 230 00b8 094A     		ldr	r2, .L10+16
 231 00ba 0023     		movs	r3, #0
 232 00bc 1360     		str	r3, [r2]	@ unaligned
 233 00be 5360     		str	r3, [r2, #4]	@ unaligned
  67:keyboards/planck/rev6_drop/matrix.c ****     memset(matrix_debouncing, 0, MATRIX_COLS * sizeof(matrix_row_t));
 234              		.loc 1 67 5 discriminator 3 view .LVU35
 235 00c0 084A     		ldr	r2, .L10+20
 236 00c2 1360     		str	r3, [r2]	@ unaligned
 237 00c4 9380     		strh	r3, [r2, #4]	@ unaligned
  68:keyboards/planck/rev6_drop/matrix.c **** 
  69:keyboards/planck/rev6_drop/matrix.c ****     matrix_init_quantum();
 238              		.loc 1 69 5 discriminator 3 view .LVU36
  70:keyboards/planck/rev6_drop/matrix.c **** }
 239              		.loc 1 70 1 is_stmt 0 discriminator 3 view .LVU37
 240 00c6 BDE80840 		pop	{r3, lr}
 241              		.cfi_restore 14
 242              		.cfi_restore 3
 243              		.cfi_def_cfa_offset 0
  69:keyboards/planck/rev6_drop/matrix.c **** }
 244              		.loc 1 69 5 discriminator 3 view .LVU38
 245 00ca FFF7FEBF 		b	matrix_init_quantum
 246              	.LVL17:
 247              	.L11:
 248 00ce 00BF     		.align	2
 249              	.L10:
 250 00d0 00000000 		.word	debug_config
 251 00d4 00000000 		.word	.LC0
 252 00d8 00040048 		.word	1207960576
 253 00dc 00080048 		.word	1207961600
 254 00e0 00000000 		.word	matrix
 255 00e4 00000000 		.word	matrix_debouncing
 256              		.cfi_endproc
 257              	.LFE289:
 259              		.section	.text.matrix_scan,"ax",%progbits
 260              		.align	1
 261              		.global	matrix_scan
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 266              	matrix_scan:
 267              	.LFB290:
  71:keyboards/planck/rev6_drop/matrix.c **** 
  72:keyboards/planck/rev6_drop/matrix.c **** uint8_t matrix_scan(void) {
 268              		.loc 1 72 27 is_stmt 1 view -0
 269              		.cfi_startproc
 270              		@ args = 0, pretend = 0, frame = 0
 271              		@ frame_needed = 0, uses_anonymous_args = 0
  73:keyboards/planck/rev6_drop/matrix.c ****     // actual matrix
  74:keyboards/planck/rev6_drop/matrix.c ****     for (int col = 0; col < MATRIX_COLS; col++) {
 272              		.loc 1 74 5 view .LVU40
 273              	.LBB7:
 274              		.loc 1 74 10 view .LVU41
 275              	.LVL18:
 276              		.loc 1 74 27 view .LVU42
 277              	.LBE7:
  72:keyboards/planck/rev6_drop/matrix.c ****     // actual matrix
 278              		.loc 1 72 27 is_stmt 0 view .LVU43
 279 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 280              		.cfi_def_cfa_offset 40
 281              		.cfi_offset 3, -40
 282              		.cfi_offset 4, -36
 283              		.cfi_offset 5, -32
 284              		.cfi_offset 6, -28
 285              		.cfi_offset 7, -24
 286              		.cfi_offset 8, -20
 287              		.cfi_offset 9, -16
 288              		.cfi_offset 10, -12
 289              		.cfi_offset 11, -8
 290              		.cfi_offset 14, -4
 291 0004 7D4D     		ldr	r5, .L50
 292 0006 7E4C     		ldr	r4, .L50+4
 293              	.LBB21:
 294              	.LBB8:
  75:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
  76:keyboards/planck/rev6_drop/matrix.c **** 
  77:keyboards/planck/rev6_drop/matrix.c ****         // strobe col { B11, B10, B2, B1, A7, B0 }
  78:keyboards/planck/rev6_drop/matrix.c ****         switch (col) {
  79:keyboards/planck/rev6_drop/matrix.c ****             case 0:
  80:keyboards/planck/rev6_drop/matrix.c ****                 palSetPad(GPIOB, 11);
  81:keyboards/planck/rev6_drop/matrix.c ****                 break;
  82:keyboards/planck/rev6_drop/matrix.c ****             case 1:
  83:keyboards/planck/rev6_drop/matrix.c ****                 palSetPad(GPIOB, 10);
  84:keyboards/planck/rev6_drop/matrix.c ****                 break;
  85:keyboards/planck/rev6_drop/matrix.c ****             case 2:
  86:keyboards/planck/rev6_drop/matrix.c ****                 palSetPad(GPIOB, 2);
  87:keyboards/planck/rev6_drop/matrix.c ****                 break;
  88:keyboards/planck/rev6_drop/matrix.c ****             case 3:
  89:keyboards/planck/rev6_drop/matrix.c ****                 palSetPad(GPIOB, 1);
  90:keyboards/planck/rev6_drop/matrix.c ****                 break;
  91:keyboards/planck/rev6_drop/matrix.c ****             case 4:
  92:keyboards/planck/rev6_drop/matrix.c ****                 palSetPad(GPIOA, 7);
  93:keyboards/planck/rev6_drop/matrix.c ****                 break;
  94:keyboards/planck/rev6_drop/matrix.c ****             case 5:
  95:keyboards/planck/rev6_drop/matrix.c ****                 palSetPad(GPIOB, 0);
  96:keyboards/planck/rev6_drop/matrix.c ****                 break;
  97:keyboards/planck/rev6_drop/matrix.c ****         }
  98:keyboards/planck/rev6_drop/matrix.c **** 
  99:keyboards/planck/rev6_drop/matrix.c ****         // need wait to settle pin state
 100:keyboards/planck/rev6_drop/matrix.c ****         wait_us(20);
 101:keyboards/planck/rev6_drop/matrix.c **** 
 102:keyboards/planck/rev6_drop/matrix.c ****         // read row data { A10, A9, A8, B15, C13, C14, C15, A2 }
 103:keyboards/planck/rev6_drop/matrix.c ****         data = ((palReadPad(GPIOA, 10) << 0) | (palReadPad(GPIOA, 9) << 1) | (palReadPad(GPIOA, 8) 
 295              		.loc 1 103 140 view .LVU44
 296 0008 7E4E     		ldr	r6, .L50+8
 297              	.LBE8:
 298              	.LBE21:
  72:keyboards/planck/rev6_drop/matrix.c ****     // actual matrix
 299              		.loc 1 72 27 view .LVU45
 300 000a 2F46     		mov	r7, r5
 301              	.LBB22:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 302              		.loc 1 74 14 view .LVU46
 303 000c 4FF00008 		mov	r8, #0
 304              	.LVL19:
 305              	.LBB9:
  75:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 306              		.loc 1 75 9 is_stmt 1 view .LVU47
  78:keyboards/planck/rev6_drop/matrix.c ****             case 0:
 307              		.loc 1 78 9 view .LVU48
  80:keyboards/planck/rev6_drop/matrix.c ****                 break;
 308              		.loc 1 80 17 view .LVU49
 309 0010 4FF40063 		mov	r3, #2048
 310              	.LVL20:
 311              	.L48:
  83:keyboards/planck/rev6_drop/matrix.c ****                 break;
 312              		.loc 1 83 17 is_stmt 0 view .LVU50
 313 0014 2383     		strh	r3, [r4, #24]	@ movhi
  84:keyboards/planck/rev6_drop/matrix.c ****             case 2:
 314              		.loc 1 84 17 is_stmt 1 view .LVU51
 315 0016 1CE0     		b	.L16
 316              	.LVL21:
 317              	.L17:
 104:keyboards/planck/rev6_drop/matrix.c **** 
 105:keyboards/planck/rev6_drop/matrix.c ****         // unstrobe  col { B11, B10, B2, B1, A7, B0 }
 106:keyboards/planck/rev6_drop/matrix.c ****         switch (col) {
 107:keyboards/planck/rev6_drop/matrix.c ****             case 0:
 108:keyboards/planck/rev6_drop/matrix.c ****                 palClearPad(GPIOB, 11);
 318              		.loc 1 108 17 view .LVU52
 319 0018 4FF40062 		mov	r2, #2048
 109:keyboards/planck/rev6_drop/matrix.c ****                 break;
 110:keyboards/planck/rev6_drop/matrix.c ****             case 1:
 111:keyboards/planck/rev6_drop/matrix.c ****                 palClearPad(GPIOB, 10);
 112:keyboards/planck/rev6_drop/matrix.c ****                 break;
 113:keyboards/planck/rev6_drop/matrix.c ****             case 2:
 114:keyboards/planck/rev6_drop/matrix.c ****                 palClearPad(GPIOB, 2);
 115:keyboards/planck/rev6_drop/matrix.c ****                 break;
 116:keyboards/planck/rev6_drop/matrix.c ****             case 3:
 117:keyboards/planck/rev6_drop/matrix.c ****                 palClearPad(GPIOB, 1);
 118:keyboards/planck/rev6_drop/matrix.c ****                 break;
 119:keyboards/planck/rev6_drop/matrix.c ****             case 4:
 120:keyboards/planck/rev6_drop/matrix.c ****                 palClearPad(GPIOA, 7);
 121:keyboards/planck/rev6_drop/matrix.c ****                 break;
 122:keyboards/planck/rev6_drop/matrix.c ****             case 5:
 123:keyboards/planck/rev6_drop/matrix.c ****                 palClearPad(GPIOB, 0);
 124:keyboards/planck/rev6_drop/matrix.c ****                 break;
 125:keyboards/planck/rev6_drop/matrix.c ****         }
 126:keyboards/planck/rev6_drop/matrix.c **** 
 127:keyboards/planck/rev6_drop/matrix.c ****         if (matrix_debouncing[col] != data) {
 320              		.loc 1 127 12 is_stmt 0 view .LVU53
 321 001c B846     		mov	r8, r7
 108:keyboards/planck/rev6_drop/matrix.c ****                 break;
 322              		.loc 1 108 17 view .LVU54
 323 001e 6283     		strh	r2, [r4, #26]	@ movhi
 109:keyboards/planck/rev6_drop/matrix.c ****                 break;
 324              		.loc 1 109 17 is_stmt 1 view .LVU55
 325              		.loc 1 127 9 view .LVU56
 326              		.loc 1 127 12 is_stmt 0 view .LVU57
 327 0020 18F8012B 		ldrb	r2, [r8], #1	@ zero_extendqisi2
 328 0024 9A42     		cmp	r2, r3
 329 0026 40F0D880 		bne	.L24
 330              	.LVL22:
 331              	.L49:
 332              		.loc 1 127 12 view .LVU58
 333              	.LBE9:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 334              		.loc 1 74 45 is_stmt 1 view .LVU59
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 335              		.loc 1 74 27 view .LVU60
 336 002a 4746     		mov	r7, r8
 337              	.LBB10:
  83:keyboards/planck/rev6_drop/matrix.c ****                 break;
 338              		.loc 1 83 17 is_stmt 0 view .LVU61
 339 002c 4FF48063 		mov	r3, #1024
 340              	.LBE10:
 341              	.LBE22:
  72:keyboards/planck/rev6_drop/matrix.c ****     // actual matrix
 342              		.loc 1 72 27 view .LVU62
 343 0030 4FF00108 		mov	r8, #1
 344              	.LBB23:
 345              	.LBB11:
  83:keyboards/planck/rev6_drop/matrix.c ****                 break;
 346              		.loc 1 83 17 is_stmt 1 view .LVU63
 347 0034 EEE7     		b	.L48
 348              	.LVL23:
 349              	.L23:
 111:keyboards/planck/rev6_drop/matrix.c ****                 break;
 350              		.loc 1 111 17 view .LVU64
 351 0036 4FF48062 		mov	r2, #1024
 352              		.loc 1 127 12 is_stmt 0 view .LVU65
 353 003a B846     		mov	r8, r7
 111:keyboards/planck/rev6_drop/matrix.c ****                 break;
 354              		.loc 1 111 17 view .LVU66
 355 003c 6283     		strh	r2, [r4, #26]	@ movhi
 112:keyboards/planck/rev6_drop/matrix.c ****             case 2:
 356              		.loc 1 112 17 is_stmt 1 view .LVU67
 357              		.loc 1 127 9 view .LVU68
 358              		.loc 1 127 12 is_stmt 0 view .LVU69
 359 003e 18F8012B 		ldrb	r2, [r8], #1	@ zero_extendqisi2
 360 0042 9A42     		cmp	r2, r3
 361 0044 50D1     		bne	.L26
 362              	.LVL24:
 363              	.L44:
 364              		.loc 1 127 12 view .LVU70
 365              	.LBE11:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 366              		.loc 1 74 45 is_stmt 1 view .LVU71
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 367              		.loc 1 74 27 view .LVU72
 368              	.LBB12:
  86:keyboards/planck/rev6_drop/matrix.c ****                 break;
 369              		.loc 1 86 17 is_stmt 0 view .LVU73
 370 0046 6E4B     		ldr	r3, .L50+4
 371 0048 0422     		movs	r2, #4
 372              	.LBE12:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 373              		.loc 1 74 27 view .LVU74
 374 004a 4746     		mov	r7, r8
 375              	.LBB13:
  75:keyboards/planck/rev6_drop/matrix.c **** 
 376              		.loc 1 75 9 is_stmt 1 view .LVU75
 377              	.LVL25:
  78:keyboards/planck/rev6_drop/matrix.c ****             case 0:
 378              		.loc 1 78 9 view .LVU76
  86:keyboards/planck/rev6_drop/matrix.c ****                 break;
 379              		.loc 1 86 17 view .LVU77
 380 004c 1A83     		strh	r2, [r3, #24]	@ movhi
  87:keyboards/planck/rev6_drop/matrix.c ****             case 3:
 381              		.loc 1 87 17 view .LVU78
 382 004e 4FF00208 		mov	r8, #2
 383              	.LVL26:
 384              	.L16:
 100:keyboards/planck/rev6_drop/matrix.c **** 
 385              		.loc 1 100 9 discriminator 1 view .LVU79
 100:keyboards/planck/rev6_drop/matrix.c **** 
 386              		.loc 1 100 9 discriminator 1 view .LVU80
 100:keyboards/planck/rev6_drop/matrix.c **** 
 387              		.loc 1 100 9 discriminator 1 view .LVU81
 388 0052 0120     		movs	r0, #1
 389 0054 FFF7FEFF 		bl	chThdSleep
 390              	.LVL27:
 100:keyboards/planck/rev6_drop/matrix.c **** 
 391              		.loc 1 100 9 discriminator 1 view .LVU82
 103:keyboards/planck/rev6_drop/matrix.c **** 
 392              		.loc 1 103 9 discriminator 1 view .LVU83
 103:keyboards/planck/rev6_drop/matrix.c **** 
 393              		.loc 1 103 18 is_stmt 0 discriminator 1 view .LVU84
 394 0058 4FF09042 		mov	r2, #1207959552
 106:keyboards/planck/rev6_drop/matrix.c ****             case 0:
 395              		.loc 1 106 9 discriminator 1 view .LVU85
 396 005c 08F1FF38 		add	r8, r8, #-1
 103:keyboards/planck/rev6_drop/matrix.c **** 
 397              		.loc 1 103 18 discriminator 1 view .LVU86
 398 0060 1369     		ldr	r3, [r2, #16]
 103:keyboards/planck/rev6_drop/matrix.c **** 
 399              		.loc 1 103 49 discriminator 1 view .LVU87
 400 0062 D2F810A0 		ldr	r10, [r2, #16]
 103:keyboards/planck/rev6_drop/matrix.c **** 
 401              		.loc 1 103 79 discriminator 1 view .LVU88
 402 0066 D2F81090 		ldr	r9, [r2, #16]
 103:keyboards/planck/rev6_drop/matrix.c **** 
 403              		.loc 1 103 109 discriminator 1 view .LVU89
 404 006a D4F810E0 		ldr	lr, [r4, #16]
 103:keyboards/planck/rev6_drop/matrix.c **** 
 405              		.loc 1 103 140 discriminator 1 view .LVU90
 406 006e D6F810C0 		ldr	ip, [r6, #16]
 103:keyboards/planck/rev6_drop/matrix.c **** 
 407              		.loc 1 103 171 discriminator 1 view .LVU91
 408 0072 3069     		ldr	r0, [r6, #16]
 103:keyboards/planck/rev6_drop/matrix.c **** 
 409              		.loc 1 103 202 discriminator 1 view .LVU92
 410 0074 3169     		ldr	r1, [r6, #16]
 103:keyboards/planck/rev6_drop/matrix.c **** 
 411              		.loc 1 103 233 discriminator 1 view .LVU93
 412 0076 D2F810B0 		ldr	fp, [r2, #16]
 103:keyboards/planck/rev6_drop/matrix.c **** 
 413              		.loc 1 103 40 discriminator 1 view .LVU94
 414 007a C3F38023 		ubfx	r3, r3, #10, #1
 103:keyboards/planck/rev6_drop/matrix.c **** 
 415              		.loc 1 103 233 discriminator 1 view .LVU95
 416 007e 4FEA9B0B 		lsr	fp, fp, #2
 103:keyboards/planck/rev6_drop/matrix.c **** 
 417              		.loc 1 103 70 discriminator 1 view .LVU96
 418 0082 4FEA1A2A 		lsr	r10, r10, #8
 103:keyboards/planck/rev6_drop/matrix.c **** 
 419              		.loc 1 103 14 discriminator 1 view .LVU97
 420 0086 43EACB13 		orr	r3, r3, fp, lsl #7
 103:keyboards/planck/rev6_drop/matrix.c **** 
 421              		.loc 1 103 70 discriminator 1 view .LVU98
 422 008a 0AF0020A 		and	r10, r10, #2
 103:keyboards/planck/rev6_drop/matrix.c **** 
 423              		.loc 1 103 100 discriminator 1 view .LVU99
 424 008e 4FEA9919 		lsr	r9, r9, #6
 103:keyboards/planck/rev6_drop/matrix.c **** 
 425              		.loc 1 103 14 discriminator 1 view .LVU100
 426 0092 43EA0A03 		orr	r3, r3, r10
 103:keyboards/planck/rev6_drop/matrix.c **** 
 427              		.loc 1 103 100 discriminator 1 view .LVU101
 428 0096 09F00409 		and	r9, r9, #4
 103:keyboards/planck/rev6_drop/matrix.c **** 
 429              		.loc 1 103 131 discriminator 1 view .LVU102
 430 009a 4FEA1E3E 		lsr	lr, lr, #12
 103:keyboards/planck/rev6_drop/matrix.c **** 
 431              		.loc 1 103 14 discriminator 1 view .LVU103
 432 009e 43EA0903 		orr	r3, r3, r9
 103:keyboards/planck/rev6_drop/matrix.c **** 
 433              		.loc 1 103 131 discriminator 1 view .LVU104
 434 00a2 0EF0080E 		and	lr, lr, #8
 103:keyboards/planck/rev6_drop/matrix.c **** 
 435              		.loc 1 103 162 discriminator 1 view .LVU105
 436 00a6 4FEA5C2C 		lsr	ip, ip, #9
 103:keyboards/planck/rev6_drop/matrix.c **** 
 437              		.loc 1 103 14 discriminator 1 view .LVU106
 438 00aa 43EA0E03 		orr	r3, r3, lr
 103:keyboards/planck/rev6_drop/matrix.c **** 
 439              		.loc 1 103 162 discriminator 1 view .LVU107
 440 00ae 0CF0100C 		and	ip, ip, #16
 103:keyboards/planck/rev6_drop/matrix.c **** 
 441              		.loc 1 103 193 discriminator 1 view .LVU108
 442 00b2 400A     		lsrs	r0, r0, #9
 103:keyboards/planck/rev6_drop/matrix.c **** 
 443              		.loc 1 103 14 discriminator 1 view .LVU109
 444 00b4 43EA0C03 		orr	r3, r3, ip
 103:keyboards/planck/rev6_drop/matrix.c **** 
 445              		.loc 1 103 193 discriminator 1 view .LVU110
 446 00b8 00F02000 		and	r0, r0, #32
 103:keyboards/planck/rev6_drop/matrix.c **** 
 447              		.loc 1 103 224 discriminator 1 view .LVU111
 448 00bc 490A     		lsrs	r1, r1, #9
 103:keyboards/planck/rev6_drop/matrix.c **** 
 449              		.loc 1 103 14 discriminator 1 view .LVU112
 450 00be 0343     		orrs	r3, r3, r0
 103:keyboards/planck/rev6_drop/matrix.c **** 
 451              		.loc 1 103 224 discriminator 1 view .LVU113
 452 00c0 01F04001 		and	r1, r1, #64
 103:keyboards/planck/rev6_drop/matrix.c **** 
 453              		.loc 1 103 14 discriminator 1 view .LVU114
 454 00c4 0B43     		orrs	r3, r3, r1
 455 00c6 DBB2     		uxtb	r3, r3
 456              	.LVL28:
 106:keyboards/planck/rev6_drop/matrix.c ****             case 0:
 457              		.loc 1 106 9 is_stmt 1 discriminator 1 view .LVU115
 458 00c8 B8F1040F 		cmp	r8, #4
 459 00cc A4D8     		bhi	.L17
 460 00ce 01A1     		adr	r1, .L19
 461 00d0 51F828F0 		ldr	pc, [r1, r8, lsl #2]
 462              		.p2align 2
 463              	.L19:
 464 00d4 37000000 		.word	.L23+1
 465 00d8 FB000000 		.word	.L22+1
 466 00dc 17010000 		.word	.L21+1
 467 00e0 35010000 		.word	.L20+1
 468 00e4 51010000 		.word	.L18+1
 469              		.p2align 1
 470              	.L26:
 128:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 471              		.loc 1 128 13 view .LVU116
 472              		.loc 1 128 36 is_stmt 0 view .LVU117
 473 00e8 3B70     		strb	r3, [r7]
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 474              		.loc 1 129 13 is_stmt 1 view .LVU118
 475              		.loc 1 129 36 is_stmt 0 view .LVU119
 476 00ea 474B     		ldr	r3, .L50+12
 477              	.LVL29:
 478              		.loc 1 129 36 view .LVU120
 479 00ec 0122     		movs	r2, #1
 480 00ee 1A70     		strb	r2, [r3]
 130:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 481              		.loc 1 130 13 is_stmt 1 view .LVU121
 482              		.loc 1 130 38 is_stmt 0 view .LVU122
 483 00f0 FFF7FEFF 		bl	timer_read
 484              	.LVL30:
 485              		.loc 1 130 36 view .LVU123
 486 00f4 454B     		ldr	r3, .L50+16
 487 00f6 1880     		strh	r0, [r3]	@ movhi
 488 00f8 A5E7     		b	.L44
 489              	.LVL31:
 490              	.L22:
 114:keyboards/planck/rev6_drop/matrix.c ****                 break;
 491              		.loc 1 114 17 is_stmt 1 view .LVU124
 492 00fa 0422     		movs	r2, #4
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 493              		.loc 1 127 12 is_stmt 0 view .LVU125
 494 00fc B846     		mov	r8, r7
 114:keyboards/planck/rev6_drop/matrix.c ****                 break;
 495              		.loc 1 114 17 view .LVU126
 496 00fe 6283     		strh	r2, [r4, #26]	@ movhi
 115:keyboards/planck/rev6_drop/matrix.c ****             case 3:
 497              		.loc 1 115 17 is_stmt 1 view .LVU127
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 498              		.loc 1 127 9 view .LVU128
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 499              		.loc 1 127 12 is_stmt 0 view .LVU129
 500 0100 18F8012B 		ldrb	r2, [r8], #1	@ zero_extendqisi2
 501 0104 9A42     		cmp	r2, r3
 502 0106 4DD1     		bne	.L28
 503              	.LVL32:
 504              	.L45:
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 505              		.loc 1 127 12 view .LVU130
 506              	.LBE13:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 507              		.loc 1 74 45 is_stmt 1 view .LVU131
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 508              		.loc 1 74 27 view .LVU132
 509              	.LBB14:
  89:keyboards/planck/rev6_drop/matrix.c ****                 break;
 510              		.loc 1 89 17 is_stmt 0 view .LVU133
 511 0108 3D4B     		ldr	r3, .L50+4
 512 010a 0222     		movs	r2, #2
 513              	.LBE14:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 514              		.loc 1 74 27 view .LVU134
 515 010c 4746     		mov	r7, r8
 516              	.LBB15:
  75:keyboards/planck/rev6_drop/matrix.c **** 
 517              		.loc 1 75 9 is_stmt 1 view .LVU135
 518              	.LVL33:
  78:keyboards/planck/rev6_drop/matrix.c ****             case 0:
 519              		.loc 1 78 9 view .LVU136
  89:keyboards/planck/rev6_drop/matrix.c ****                 break;
 520              		.loc 1 89 17 view .LVU137
 521 010e 1A83     		strh	r2, [r3, #24]	@ movhi
  90:keyboards/planck/rev6_drop/matrix.c ****             case 4:
 522              		.loc 1 90 17 view .LVU138
 523 0110 4FF00308 		mov	r8, #3
 524 0114 9DE7     		b	.L16
 525              	.LVL34:
 526              	.L21:
 117:keyboards/planck/rev6_drop/matrix.c ****                 break;
 527              		.loc 1 117 17 view .LVU139
 528 0116 0222     		movs	r2, #2
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 529              		.loc 1 127 12 is_stmt 0 view .LVU140
 530 0118 B846     		mov	r8, r7
 117:keyboards/planck/rev6_drop/matrix.c ****                 break;
 531              		.loc 1 117 17 view .LVU141
 532 011a 6283     		strh	r2, [r4, #26]	@ movhi
 118:keyboards/planck/rev6_drop/matrix.c ****             case 4:
 533              		.loc 1 118 17 is_stmt 1 view .LVU142
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 534              		.loc 1 127 9 view .LVU143
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 535              		.loc 1 127 12 is_stmt 0 view .LVU144
 536 011c 18F8012B 		ldrb	r2, [r8], #1	@ zero_extendqisi2
 537 0120 9A42     		cmp	r2, r3
 538 0122 51D1     		bne	.L30
 539              	.LVL35:
 540              	.L46:
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 541              		.loc 1 127 12 view .LVU145
 542              	.LBE15:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 543              		.loc 1 74 45 is_stmt 1 view .LVU146
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 544              		.loc 1 74 27 view .LVU147
 545              	.LBB16:
  92:keyboards/planck/rev6_drop/matrix.c ****                 break;
 546              		.loc 1 92 17 is_stmt 0 view .LVU148
 547 0124 4FF09043 		mov	r3, #1207959552
 548 0128 8022     		movs	r2, #128
 549              	.LBE16:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 550              		.loc 1 74 27 view .LVU149
 551 012a 4746     		mov	r7, r8
 552              	.LBB17:
  75:keyboards/planck/rev6_drop/matrix.c **** 
 553              		.loc 1 75 9 is_stmt 1 view .LVU150
 554              	.LVL36:
  78:keyboards/planck/rev6_drop/matrix.c ****             case 0:
 555              		.loc 1 78 9 view .LVU151
  92:keyboards/planck/rev6_drop/matrix.c ****                 break;
 556              		.loc 1 92 17 view .LVU152
 557 012c 1A83     		strh	r2, [r3, #24]	@ movhi
  93:keyboards/planck/rev6_drop/matrix.c ****             case 5:
 558              		.loc 1 93 17 view .LVU153
 559 012e 4FF00408 		mov	r8, #4
 560 0132 8EE7     		b	.L16
 561              	.LVL37:
 562              	.L20:
 120:keyboards/planck/rev6_drop/matrix.c ****                 break;
 563              		.loc 1 120 17 view .LVU154
 564 0134 8021     		movs	r1, #128
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 565              		.loc 1 127 12 is_stmt 0 view .LVU155
 566 0136 B846     		mov	r8, r7
 120:keyboards/planck/rev6_drop/matrix.c ****                 break;
 567              		.loc 1 120 17 view .LVU156
 568 0138 5183     		strh	r1, [r2, #26]	@ movhi
 121:keyboards/planck/rev6_drop/matrix.c ****             case 5:
 569              		.loc 1 121 17 is_stmt 1 view .LVU157
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 570              		.loc 1 127 9 view .LVU158
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 571              		.loc 1 127 12 is_stmt 0 view .LVU159
 572 013a 18F8012B 		ldrb	r2, [r8], #1	@ zero_extendqisi2
 573 013e 9A42     		cmp	r2, r3
 574 0140 39D1     		bne	.L32
 575              	.LVL38:
 576              	.L47:
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 577              		.loc 1 127 12 view .LVU160
 578              	.LBE17:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 579              		.loc 1 74 45 is_stmt 1 view .LVU161
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 580              		.loc 1 74 27 view .LVU162
 581              	.LBB18:
  95:keyboards/planck/rev6_drop/matrix.c ****                 break;
 582              		.loc 1 95 17 is_stmt 0 view .LVU163
 583 0142 2F4B     		ldr	r3, .L50+4
 584 0144 0122     		movs	r2, #1
 585              	.LBE18:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 586              		.loc 1 74 27 view .LVU164
 587 0146 4746     		mov	r7, r8
 588              	.LBB19:
  75:keyboards/planck/rev6_drop/matrix.c **** 
 589              		.loc 1 75 9 is_stmt 1 view .LVU165
 590              	.LVL39:
  78:keyboards/planck/rev6_drop/matrix.c ****             case 0:
 591              		.loc 1 78 9 view .LVU166
  95:keyboards/planck/rev6_drop/matrix.c ****                 break;
 592              		.loc 1 95 17 view .LVU167
 593 0148 1A83     		strh	r2, [r3, #24]	@ movhi
  96:keyboards/planck/rev6_drop/matrix.c ****         }
 594              		.loc 1 96 17 view .LVU168
 595 014a 4FF00508 		mov	r8, #5
 596 014e 80E7     		b	.L16
 597              	.LVL40:
 598              	.L18:
 123:keyboards/planck/rev6_drop/matrix.c ****                 break;
 599              		.loc 1 123 17 view .LVU169
 600 0150 0122     		movs	r2, #1
 601 0152 6283     		strh	r2, [r4, #26]	@ movhi
 124:keyboards/planck/rev6_drop/matrix.c ****         }
 602              		.loc 1 124 17 view .LVU170
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 603              		.loc 1 127 9 view .LVU171
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 604              		.loc 1 127 12 is_stmt 0 view .LVU172
 605 0154 6979     		ldrb	r1, [r5, #5]	@ zero_extendqisi2
 606 0156 2C4C     		ldr	r4, .L50+12
 607 0158 9942     		cmp	r1, r3
 608 015a 47D1     		bne	.L34
 609              	.LVL41:
 610              	.L37:
 127:keyboards/planck/rev6_drop/matrix.c ****             matrix_debouncing[col] = data;
 611              		.loc 1 127 12 view .LVU173
 612              	.LBE19:
 613              	.LBE23:
 131:keyboards/planck/rev6_drop/matrix.c ****         }
 132:keyboards/planck/rev6_drop/matrix.c ****     }
 133:keyboards/planck/rev6_drop/matrix.c **** 
 134:keyboards/planck/rev6_drop/matrix.c ****     if (debouncing && timer_elapsed(debouncing_time) > DEBOUNCE) {
 614              		.loc 1 134 5 is_stmt 1 view .LVU174
 615              		.loc 1 134 8 is_stmt 0 view .LVU175
 616 015c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 617 015e E3B1     		cbz	r3, .L39
 618              		.loc 1 134 23 discriminator 1 view .LVU176
 619 0160 2A4B     		ldr	r3, .L50+16
 620 0162 1888     		ldrh	r0, [r3]
 621 0164 FFF7FEFF 		bl	timer_elapsed
 622              	.LVL42:
 623              		.loc 1 134 20 discriminator 1 view .LVU177
 624 0168 0528     		cmp	r0, #5
 625 016a 16D9     		bls	.L39
 626 016c 284E     		ldr	r6, .L50+20
 627              	.LBB24:
 135:keyboards/planck/rev6_drop/matrix.c ****         for (int row = 0; row < MATRIX_ROWS; row++) {
 628              		.loc 1 135 18 view .LVU178
 629 016e 0021     		movs	r1, #0
 630              	.L41:
 631              	.LVL43:
 136:keyboards/planck/rev6_drop/matrix.c ****             matrix[row] = 0;
 632              		.loc 1 136 13 is_stmt 1 view .LVU179
 137:keyboards/planck/rev6_drop/matrix.c ****             for (int col = 0; col < MATRIX_COLS; col++) {
 633              		.loc 1 137 13 view .LVU180
 634              	.LBB25:
 635              		.loc 1 137 18 view .LVU181
 636              		.loc 1 137 35 view .LVU182
 637              	.LBE25:
 135:keyboards/planck/rev6_drop/matrix.c ****         for (int row = 0; row < MATRIX_ROWS; row++) {
 638              		.loc 1 135 18 is_stmt 0 view .LVU183
 639 0170 0022     		movs	r2, #0
 640 0172 2F46     		mov	r7, r5
 641              	.LBB26:
 642              		.loc 1 137 22 view .LVU184
 643 0174 1046     		mov	r0, r2
 644              	.LVL44:
 645              	.L40:
 138:keyboards/planck/rev6_drop/matrix.c ****                 matrix[row] |= ((matrix_debouncing[col] & (1 << row) ? 1 : 0) << col);
 646              		.loc 1 138 17 is_stmt 1 discriminator 3 view .LVU185
 647              		.loc 1 138 51 is_stmt 0 discriminator 3 view .LVU186
 648 0176 17F8013B 		ldrb	r3, [r7], #1	@ zero_extendqisi2
 649              		.loc 1 138 70 discriminator 3 view .LVU187
 650 017a 0B41     		asrs	r3, r3, r1
 651              		.loc 1 138 74 discriminator 3 view .LVU188
 652 017c 03F00103 		and	r3, r3, #1
 653              		.loc 1 138 79 discriminator 3 view .LVU189
 654 0180 8340     		lsls	r3, r3, r0
 137:keyboards/planck/rev6_drop/matrix.c ****             for (int col = 0; col < MATRIX_COLS; col++) {
 655              		.loc 1 137 53 discriminator 3 view .LVU190
 656 0182 0130     		adds	r0, r0, #1
 657              	.LVL45:
 658              		.loc 1 138 29 discriminator 3 view .LVU191
 659 0184 1A43     		orrs	r2, r2, r3
 137:keyboards/planck/rev6_drop/matrix.c ****             for (int col = 0; col < MATRIX_COLS; col++) {
 660              		.loc 1 137 35 discriminator 3 view .LVU192
 661 0186 0628     		cmp	r0, #6
 662              		.loc 1 138 29 discriminator 3 view .LVU193
 663 0188 D2B2     		uxtb	r2, r2
 137:keyboards/planck/rev6_drop/matrix.c ****             for (int col = 0; col < MATRIX_COLS; col++) {
 664              		.loc 1 137 53 is_stmt 1 discriminator 3 view .LVU194
 665              	.LVL46:
 137:keyboards/planck/rev6_drop/matrix.c ****             for (int col = 0; col < MATRIX_COLS; col++) {
 666              		.loc 1 137 35 discriminator 3 view .LVU195
 667 018a F4D1     		bne	.L40
 668              	.LBE26:
 135:keyboards/planck/rev6_drop/matrix.c ****             matrix[row] = 0;
 669              		.loc 1 135 49 is_stmt 0 discriminator 2 view .LVU196
 670 018c 0131     		adds	r1, r1, #1
 671              	.LVL47:
 135:keyboards/planck/rev6_drop/matrix.c ****             matrix[row] = 0;
 672              		.loc 1 135 31 discriminator 2 view .LVU197
 673 018e 0829     		cmp	r1, #8
 674 0190 06F8012B 		strb	r2, [r6], #1
 135:keyboards/planck/rev6_drop/matrix.c ****             matrix[row] = 0;
 675              		.loc 1 135 49 is_stmt 1 discriminator 2 view .LVU198
 676              	.LVL48:
 135:keyboards/planck/rev6_drop/matrix.c ****             matrix[row] = 0;
 677              		.loc 1 135 31 discriminator 2 view .LVU199
 678 0194 ECD1     		bne	.L41
 679              	.LBE24:
 139:keyboards/planck/rev6_drop/matrix.c ****             }
 140:keyboards/planck/rev6_drop/matrix.c ****         }
 141:keyboards/planck/rev6_drop/matrix.c ****         debouncing = false;
 680              		.loc 1 141 9 view .LVU200
 681              		.loc 1 141 20 is_stmt 0 view .LVU201
 682 0196 0023     		movs	r3, #0
 683 0198 2370     		strb	r3, [r4]
 684              	.LVL49:
 685              	.L39:
 142:keyboards/planck/rev6_drop/matrix.c ****     }
 143:keyboards/planck/rev6_drop/matrix.c **** 
 144:keyboards/planck/rev6_drop/matrix.c ****     matrix_scan_quantum();
 686              		.loc 1 144 5 is_stmt 1 view .LVU202
 687 019a FFF7FEFF 		bl	matrix_scan_quantum
 688              	.LVL50:
 145:keyboards/planck/rev6_drop/matrix.c **** 
 146:keyboards/planck/rev6_drop/matrix.c ****     return 1;
 689              		.loc 1 146 5 view .LVU203
 147:keyboards/planck/rev6_drop/matrix.c **** }
 690              		.loc 1 147 1 is_stmt 0 view .LVU204
 691 019e 0120     		movs	r0, #1
 692 01a0 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 693              	.LVL51:
 694              	.L28:
 695              	.LBB27:
 696              	.LBB20:
 128:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 697              		.loc 1 128 13 is_stmt 1 view .LVU205
 128:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 698              		.loc 1 128 36 is_stmt 0 view .LVU206
 699 01a4 3B70     		strb	r3, [r7]
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 700              		.loc 1 129 13 is_stmt 1 view .LVU207
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 701              		.loc 1 129 36 is_stmt 0 view .LVU208
 702 01a6 184B     		ldr	r3, .L50+12
 703              	.LVL52:
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 704              		.loc 1 129 36 view .LVU209
 705 01a8 0122     		movs	r2, #1
 706 01aa 1A70     		strb	r2, [r3]
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 707              		.loc 1 130 13 is_stmt 1 view .LVU210
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 708              		.loc 1 130 38 is_stmt 0 view .LVU211
 709 01ac FFF7FEFF 		bl	timer_read
 710              	.LVL53:
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 711              		.loc 1 130 36 view .LVU212
 712 01b0 164B     		ldr	r3, .L50+16
 713 01b2 1880     		strh	r0, [r3]	@ movhi
 714 01b4 A8E7     		b	.L45
 715              	.LVL54:
 716              	.L32:
 128:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 717              		.loc 1 128 13 is_stmt 1 view .LVU213
 128:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 718              		.loc 1 128 36 is_stmt 0 view .LVU214
 719 01b6 3B70     		strb	r3, [r7]
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 720              		.loc 1 129 13 is_stmt 1 view .LVU215
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 721              		.loc 1 129 36 is_stmt 0 view .LVU216
 722 01b8 134B     		ldr	r3, .L50+12
 723              	.LVL55:
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 724              		.loc 1 129 36 view .LVU217
 725 01ba 0122     		movs	r2, #1
 726 01bc 1A70     		strb	r2, [r3]
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 727              		.loc 1 130 13 is_stmt 1 view .LVU218
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 728              		.loc 1 130 38 is_stmt 0 view .LVU219
 729 01be FFF7FEFF 		bl	timer_read
 730              	.LVL56:
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 731              		.loc 1 130 36 view .LVU220
 732 01c2 124B     		ldr	r3, .L50+16
 733 01c4 1880     		strh	r0, [r3]	@ movhi
 734 01c6 BCE7     		b	.L47
 735              	.LVL57:
 736              	.L30:
 128:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 737              		.loc 1 128 13 is_stmt 1 view .LVU221
 128:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 738              		.loc 1 128 36 is_stmt 0 view .LVU222
 739 01c8 3B70     		strb	r3, [r7]
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 740              		.loc 1 129 13 is_stmt 1 view .LVU223
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 741              		.loc 1 129 36 is_stmt 0 view .LVU224
 742 01ca 0F4B     		ldr	r3, .L50+12
 743              	.LVL58:
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 744              		.loc 1 129 36 view .LVU225
 745 01cc 0122     		movs	r2, #1
 746 01ce 1A70     		strb	r2, [r3]
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 747              		.loc 1 130 13 is_stmt 1 view .LVU226
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 748              		.loc 1 130 38 is_stmt 0 view .LVU227
 749 01d0 FFF7FEFF 		bl	timer_read
 750              	.LVL59:
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 751              		.loc 1 130 36 view .LVU228
 752 01d4 0D4B     		ldr	r3, .L50+16
 753 01d6 1880     		strh	r0, [r3]	@ movhi
 754 01d8 A4E7     		b	.L46
 755              	.LVL60:
 756              	.L24:
 128:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 757              		.loc 1 128 13 is_stmt 1 view .LVU229
 128:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 758              		.loc 1 128 36 is_stmt 0 view .LVU230
 759 01da 3B70     		strb	r3, [r7]
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 760              		.loc 1 129 13 is_stmt 1 view .LVU231
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 761              		.loc 1 129 36 is_stmt 0 view .LVU232
 762 01dc 0A4B     		ldr	r3, .L50+12
 763              	.LVL61:
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 764              		.loc 1 129 36 view .LVU233
 765 01de 0122     		movs	r2, #1
 766 01e0 1A70     		strb	r2, [r3]
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 767              		.loc 1 130 13 is_stmt 1 view .LVU234
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 768              		.loc 1 130 38 is_stmt 0 view .LVU235
 769 01e2 FFF7FEFF 		bl	timer_read
 770              	.LVL62:
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 771              		.loc 1 130 36 view .LVU236
 772 01e6 094B     		ldr	r3, .L50+16
 773 01e8 1880     		strh	r0, [r3]	@ movhi
 774 01ea 1EE7     		b	.L49
 775              	.LVL63:
 776              	.L34:
 128:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 777              		.loc 1 128 13 is_stmt 1 view .LVU237
 128:keyboards/planck/rev6_drop/matrix.c ****             debouncing             = true;
 778              		.loc 1 128 36 is_stmt 0 view .LVU238
 779 01ec 3B70     		strb	r3, [r7]
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 780              		.loc 1 129 13 is_stmt 1 view .LVU239
 129:keyboards/planck/rev6_drop/matrix.c ****             debouncing_time        = timer_read();
 781              		.loc 1 129 36 is_stmt 0 view .LVU240
 782 01ee 2270     		strb	r2, [r4]
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 783              		.loc 1 130 13 is_stmt 1 view .LVU241
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 784              		.loc 1 130 38 is_stmt 0 view .LVU242
 785 01f0 FFF7FEFF 		bl	timer_read
 786              	.LVL64:
 130:keyboards/planck/rev6_drop/matrix.c ****         }
 787              		.loc 1 130 36 view .LVU243
 788 01f4 054B     		ldr	r3, .L50+16
 789 01f6 1880     		strh	r0, [r3]	@ movhi
 790              	.LBE20:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 791              		.loc 1 74 45 is_stmt 1 view .LVU244
 792              	.LVL65:
  74:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = 0;
 793              		.loc 1 74 27 view .LVU245
 794 01f8 B0E7     		b	.L37
 795              	.L51:
 796 01fa 00BF     		.align	2
 797              	.L50:
 798 01fc 00000000 		.word	matrix_debouncing
 799 0200 00040048 		.word	1207960576
 800 0204 00080048 		.word	1207961600
 801 0208 00000000 		.word	debouncing
 802 020c 00000000 		.word	debouncing_time
 803 0210 00000000 		.word	matrix
 804              	.LBE27:
 805              		.cfi_endproc
 806              	.LFE290:
 808              		.section	.text.matrix_is_on,"ax",%progbits
 809              		.align	1
 810              		.global	matrix_is_on
 811              		.syntax unified
 812              		.thumb
 813              		.thumb_func
 815              	matrix_is_on:
 816              	.LVL66:
 817              	.LFB291:
 148:keyboards/planck/rev6_drop/matrix.c **** 
 149:keyboards/planck/rev6_drop/matrix.c **** bool matrix_is_on(uint8_t row, uint8_t col) { return (matrix[row] & (1 << col)); }
 818              		.loc 1 149 45 view -0
 819              		.cfi_startproc
 820              		@ args = 0, pretend = 0, frame = 0
 821              		@ frame_needed = 0, uses_anonymous_args = 0
 822              		@ link register save eliminated.
 823              		.loc 1 149 47 view .LVU247
 824              		.loc 1 149 61 is_stmt 0 view .LVU248
 825 0000 044B     		ldr	r3, .L53
 826 0002 1A5C     		ldrb	r2, [r3, r0]	@ zero_extendqisi2
 827              		.loc 1 149 72 view .LVU249
 828 0004 0123     		movs	r3, #1
 829 0006 8B40     		lsls	r3, r3, r1
 830              		.loc 1 149 67 view .LVU250
 831 0008 1A42     		tst	r2, r3
 832              		.loc 1 149 82 view .LVU251
 833 000a 14BF     		ite	ne
 834 000c 0120     		movne	r0, #1
 835              	.LVL67:
 836              		.loc 1 149 82 view .LVU252
 837 000e 0020     		moveq	r0, #0
 838 0010 7047     		bx	lr
 839              	.L54:
 840 0012 00BF     		.align	2
 841              	.L53:
 842 0014 00000000 		.word	matrix
 843              		.cfi_endproc
 844              	.LFE291:
 846              		.section	.text.matrix_get_row,"ax",%progbits
 847              		.align	1
 848              		.global	matrix_get_row
 849              		.syntax unified
 850              		.thumb
 851              		.thumb_func
 853              	matrix_get_row:
 854              	.LVL68:
 855              	.LFB292:
 150:keyboards/planck/rev6_drop/matrix.c **** 
 151:keyboards/planck/rev6_drop/matrix.c **** matrix_row_t matrix_get_row(uint8_t row) { return matrix[row]; }
 856              		.loc 1 151 42 is_stmt 1 view -0
 857              		.cfi_startproc
 858              		@ args = 0, pretend = 0, frame = 0
 859              		@ frame_needed = 0, uses_anonymous_args = 0
 860              		@ link register save eliminated.
 861              		.loc 1 151 44 view .LVU254
 862              		.loc 1 151 64 is_stmt 0 view .LVU255
 863 0000 014B     		ldr	r3, .L56
 864 0002 185C     		ldrb	r0, [r3, r0]	@ zero_extendqisi2
 865              	.LVL69:
 866              		.loc 1 151 64 view .LVU256
 867 0004 7047     		bx	lr
 868              	.L57:
 869 0006 00BF     		.align	2
 870              	.L56:
 871 0008 00000000 		.word	matrix
 872              		.cfi_endproc
 873              	.LFE292:
 875              		.section	.rodata.matrix_print.str1.1,"aMS",%progbits,1
 876              	.LC1:
 877 0000 0A722F63 		.ascii	"\012r/c 01234567\012\000"
 877      20303132 
 877      33343536 
 877      370A00
 878              	.LC2:
 879 000f 2558303A 		.ascii	"%X0: \000"
 879      2000
 880              	.LC3:
 881 0015 3100     		.ascii	"1\000"
 882              	.LC4:
 883 0017 3000     		.ascii	"0\000"
 884              	.LC5:
 885 0019 0A00     		.ascii	"\012\000"
 886              		.section	.text.matrix_print,"ax",%progbits
 887              		.align	1
 888              		.global	matrix_print
 889              		.syntax unified
 890              		.thumb
 891              		.thumb_func
 893              	matrix_print:
 894              	.LFB293:
 152:keyboards/planck/rev6_drop/matrix.c **** 
 153:keyboards/planck/rev6_drop/matrix.c **** void matrix_print(void) {
 895              		.loc 1 153 25 is_stmt 1 view -0
 896              		.cfi_startproc
 897              		@ args = 0, pretend = 0, frame = 0
 898              		@ frame_needed = 0, uses_anonymous_args = 0
 154:keyboards/planck/rev6_drop/matrix.c ****     dprintf("\nr/c 01234567\n");
 899              		.loc 1 154 5 view .LVU258
 900              		.loc 1 154 5 view .LVU259
 153:keyboards/planck/rev6_drop/matrix.c ****     dprintf("\nr/c 01234567\n");
 901              		.loc 1 153 25 is_stmt 0 view .LVU260
 902 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 903              		.cfi_def_cfa_offset 40
 904              		.cfi_offset 3, -40
 905              		.cfi_offset 4, -36
 906              		.cfi_offset 5, -32
 907              		.cfi_offset 6, -28
 908              		.cfi_offset 7, -24
 909              		.cfi_offset 8, -20
 910              		.cfi_offset 9, -16
 911              		.cfi_offset 10, -12
 912              		.cfi_offset 11, -8
 913              		.cfi_offset 14, -4
 914              		.loc 1 154 5 view .LVU261
 915 0004 1A4D     		ldr	r5, .L84
 916 0006 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 917 0008 D807     		lsls	r0, r3, #31
 918 000a 02D5     		bpl	.L59
 919              		.loc 1 154 5 is_stmt 1 discriminator 1 view .LVU262
 920 000c 1948     		ldr	r0, .L84+4
 921 000e FFF7FEFF 		bl	printf_
 922              	.LVL70:
 923              	.LBB28:
 155:keyboards/planck/rev6_drop/matrix.c ****     for (uint8_t row = 0; row < MATRIX_ROWS; row++) {
 924              		.loc 1 155 31 discriminator 1 view .LVU263
 925              	.L59:
 926              		.loc 1 155 31 is_stmt 0 discriminator 1 view .LVU264
 927 0012 194F     		ldr	r7, .L84+8
 928              	.LBB29:
 156:keyboards/planck/rev6_drop/matrix.c ****         dprintf("%X0: ", row);
 929              		.loc 1 156 9 view .LVU265
 930 0014 DFF86880 		ldr	r8, .L84+16
 931              	.LBB30:
 157:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = matrix_get_row(row);
 158:keyboards/planck/rev6_drop/matrix.c ****         for (int col = 0; col < MATRIX_COLS; col++) {
 159:keyboards/planck/rev6_drop/matrix.c ****             if (data & (1 << col))
 160:keyboards/planck/rev6_drop/matrix.c ****                 dprintf("1");
 161:keyboards/planck/rev6_drop/matrix.c ****             else
 162:keyboards/planck/rev6_drop/matrix.c ****                 dprintf("0");
 932              		.loc 1 162 17 view .LVU266
 933 0018 DFF86890 		ldr	r9, .L84+20
 160:keyboards/planck/rev6_drop/matrix.c ****             else
 934              		.loc 1 160 17 view .LVU267
 935 001c DFF868A0 		ldr	r10, .L84+24
 936              	.LBE30:
 937              	.LBE29:
 938              	.LBE28:
 153:keyboards/planck/rev6_drop/matrix.c ****     dprintf("\nr/c 01234567\n");
 939              		.loc 1 153 25 view .LVU268
 940 0020 0024     		movs	r4, #0
 941              	.L65:
 942              	.LVL71:
 943              	.LBB37:
 944              	.LBB35:
 156:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = matrix_get_row(row);
 945              		.loc 1 156 9 is_stmt 1 view .LVU269
 156:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = matrix_get_row(row);
 946              		.loc 1 156 9 view .LVU270
 947 0022 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 948 0024 D907     		lsls	r1, r3, #31
 949 0026 03D5     		bpl	.L60
 156:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = matrix_get_row(row);
 950              		.loc 1 156 9 discriminator 1 view .LVU271
 951 0028 2146     		mov	r1, r4
 952 002a 4046     		mov	r0, r8
 953 002c FFF7FEFF 		bl	printf_
 954              	.LVL72:
 955              	.L60:
 156:keyboards/planck/rev6_drop/matrix.c ****         matrix_row_t data = matrix_get_row(row);
 956              		.loc 1 156 9 discriminator 3 view .LVU272
 157:keyboards/planck/rev6_drop/matrix.c ****         for (int col = 0; col < MATRIX_COLS; col++) {
 957              		.loc 1 157 9 discriminator 3 view .LVU273
 958              	.LBB31:
 959              	.LBI31:
 151:keyboards/planck/rev6_drop/matrix.c **** 
 960              		.loc 1 151 14 discriminator 3 view .LVU274
 961              	.LBB32:
 151:keyboards/planck/rev6_drop/matrix.c **** 
 962              		.loc 1 151 44 discriminator 3 view .LVU275
 151:keyboards/planck/rev6_drop/matrix.c **** 
 963              		.loc 1 151 57 is_stmt 0 discriminator 3 view .LVU276
 964 0030 17F801BB 		ldrb	fp, [r7], #1	@ zero_extendqisi2
 965              	.LVL73:
 151:keyboards/planck/rev6_drop/matrix.c **** 
 966              		.loc 1 151 57 discriminator 3 view .LVU277
 967              	.LBE32:
 968              	.LBE31:
 158:keyboards/planck/rev6_drop/matrix.c ****             if (data & (1 << col))
 969              		.loc 1 158 9 is_stmt 1 discriminator 3 view .LVU278
 970              	.LBB33:
 158:keyboards/planck/rev6_drop/matrix.c ****             if (data & (1 << col))
 971              		.loc 1 158 14 discriminator 3 view .LVU279
 158:keyboards/planck/rev6_drop/matrix.c ****             if (data & (1 << col))
 972              		.loc 1 158 31 discriminator 3 view .LVU280
 158:keyboards/planck/rev6_drop/matrix.c ****             if (data & (1 << col))
 973              		.loc 1 158 18 is_stmt 0 discriminator 3 view .LVU281
 974 0034 0026     		movs	r6, #0
 975              	.LVL74:
 976              	.L63:
 159:keyboards/planck/rev6_drop/matrix.c ****                 dprintf("1");
 977              		.loc 1 159 13 is_stmt 1 view .LVU282
 160:keyboards/planck/rev6_drop/matrix.c ****             else
 978              		.loc 1 160 17 is_stmt 0 view .LVU283
 979 0036 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 159:keyboards/planck/rev6_drop/matrix.c ****                 dprintf("1");
 980              		.loc 1 159 17 view .LVU284
 981 0038 4BFA06F2 		asr	r2, fp, r6
 159:keyboards/planck/rev6_drop/matrix.c ****                 dprintf("1");
 982              		.loc 1 159 16 view .LVU285
 983 003c D207     		lsls	r2, r2, #31
 160:keyboards/planck/rev6_drop/matrix.c ****             else
 984              		.loc 1 160 17 view .LVU286
 985 003e 03F00103 		and	r3, r3, #1
 159:keyboards/planck/rev6_drop/matrix.c ****                 dprintf("1");
 986              		.loc 1 159 16 view .LVU287
 987 0042 11D5     		bpl	.L61
 160:keyboards/planck/rev6_drop/matrix.c ****             else
 988              		.loc 1 160 17 is_stmt 1 view .LVU288
 160:keyboards/planck/rev6_drop/matrix.c ****             else
 989              		.loc 1 160 17 view .LVU289
 990 0044 13B1     		cbz	r3, .L62
 160:keyboards/planck/rev6_drop/matrix.c ****             else
 991              		.loc 1 160 17 discriminator 1 view .LVU290
 992 0046 5046     		mov	r0, r10
 993              	.L83:
 994              		.loc 1 162 17 is_stmt 0 discriminator 1 view .LVU291
 995 0048 FFF7FEFF 		bl	printf_
 996              	.LVL75:
 997              	.L62:
 998              		.loc 1 162 17 is_stmt 1 discriminator 3 view .LVU292
 158:keyboards/planck/rev6_drop/matrix.c ****             if (data & (1 << col))
 999              		.loc 1 158 49 discriminator 3 view .LVU293
 1000 004c 0136     		adds	r6, r6, #1
 1001              	.LVL76:
 158:keyboards/planck/rev6_drop/matrix.c ****             if (data & (1 << col))
 1002              		.loc 1 158 31 discriminator 3 view .LVU294
 1003 004e 062E     		cmp	r6, #6
 1004 0050 F1D1     		bne	.L63
 1005              	.LBE33:
 163:keyboards/planck/rev6_drop/matrix.c ****         }
 164:keyboards/planck/rev6_drop/matrix.c ****         dprintf("\n");
 1006              		.loc 1 164 9 view .LVU295
 1007              		.loc 1 164 9 view .LVU296
 1008 0052 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 1009 0054 DB07     		lsls	r3, r3, #31
 1010 0056 02D5     		bpl	.L64
 1011              		.loc 1 164 9 discriminator 1 view .LVU297
 1012 0058 0848     		ldr	r0, .L84+12
 1013 005a FFF7FEFF 		bl	printf_
 1014              	.LVL77:
 1015              	.L64:
 1016              		.loc 1 164 9 discriminator 3 view .LVU298
 1017              	.LBE35:
 155:keyboards/planck/rev6_drop/matrix.c ****         dprintf("%X0: ", row);
 1018              		.loc 1 155 49 discriminator 3 view .LVU299
 155:keyboards/planck/rev6_drop/matrix.c ****         dprintf("%X0: ", row);
 1019              		.loc 1 155 31 discriminator 3 view .LVU300
 1020 005e 0134     		adds	r4, r4, #1
 1021              	.LVL78:
 155:keyboards/planck/rev6_drop/matrix.c ****         dprintf("%X0: ", row);
 1022              		.loc 1 155 31 is_stmt 0 discriminator 3 view .LVU301
 1023 0060 082C     		cmp	r4, #8
 1024 0062 DED1     		bne	.L65
 1025              	.LBE37:
 165:keyboards/planck/rev6_drop/matrix.c ****     }
 166:keyboards/planck/rev6_drop/matrix.c **** }
 1026              		.loc 1 166 1 view .LVU302
 1027 0064 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1028              	.LVL79:
 1029              	.L61:
 1030              	.LBB38:
 1031              	.LBB36:
 1032              	.LBB34:
 162:keyboards/planck/rev6_drop/matrix.c ****         }
 1033              		.loc 1 162 17 is_stmt 1 view .LVU303
 162:keyboards/planck/rev6_drop/matrix.c ****         }
 1034              		.loc 1 162 17 view .LVU304
 1035 0068 002B     		cmp	r3, #0
 1036 006a EFD0     		beq	.L62
 162:keyboards/planck/rev6_drop/matrix.c ****         }
 1037              		.loc 1 162 17 discriminator 1 view .LVU305
 1038 006c 4846     		mov	r0, r9
 1039 006e EBE7     		b	.L83
 1040              	.L85:
 1041              		.align	2
 1042              	.L84:
 1043 0070 00000000 		.word	debug_config
 1044 0074 00000000 		.word	.LC1
 1045 0078 00000000 		.word	matrix
 1046 007c 19000000 		.word	.LC5
 1047 0080 0F000000 		.word	.LC2
 1048 0084 17000000 		.word	.LC4
 1049 0088 15000000 		.word	.LC3
 1050              	.LBE34:
 1051              	.LBE36:
 1052              	.LBE38:
 1053              		.cfi_endproc
 1054              	.LFE293:
 1056              		.section	.bss.debouncing_time,"aw",%nobits
 1057              		.align	1
 1060              	debouncing_time:
 1061 0000 0000     		.space	2
 1062              		.section	.bss.debouncing,"aw",%nobits
 1065              	debouncing:
 1066 0000 00       		.space	1
 1067              		.section	.bss.matrix_debouncing,"aw",%nobits
 1070              	matrix_debouncing:
 1071 0000 00000000 		.space	6
 1071      0000
 1072              		.section	.bss.matrix,"aw",%nobits
 1075              	matrix:
 1076 0000 00000000 		.space	8
 1076      00000000 
 1077              		.text
 1078              	.Letext0:
 1079              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 1080              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 1081              		.file 4 "/usr/lib/gcc/arm-none-eabi/12.2.0/include/stddef.h"
 1082              		.file 5 "./lib/chibios/os/rt/include/chtime.h"
 1083              		.file 6 "./lib/chibios/os/hal/ports/STM32/LLD/GPIOv2/stm32_gpio.h"
 1084              		.file 7 "./lib/chibios/os/hal/ports/STM32/LLD/GPIOv2/hal_pal_lld.h"
 1085              		.file 8 "quantum/logging/debug.h"
 1086              		.file 9 "quantum/matrix.h"
 1087              		.file 10 "tmk_core/common/timer.h"
 1088              		.file 11 "/usr/arm-none-eabi/include/string.h"
 1089              		.file 12 "./lib/chibios/os/rt/include/chthreads.h"
 1090              		.file 13 "lib/printf/printf.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 matrix.c
     /tmp/ccikXxF0.s:21     .text.matrix_init_user:0000000000000000 $t
     /tmp/ccikXxF0.s:27     .text.matrix_init_user:0000000000000000 matrix_init_user
     /tmp/ccikXxF0.s:40     .text.matrix_scan_user:0000000000000000 $t
     /tmp/ccikXxF0.s:46     .text.matrix_scan_user:0000000000000000 matrix_scan_user
     /tmp/ccikXxF0.s:58     .text.matrix_init_kb:0000000000000000 $t
     /tmp/ccikXxF0.s:64     .text.matrix_init_kb:0000000000000000 matrix_init_kb
     /tmp/ccikXxF0.s:85     .text.matrix_scan_kb:0000000000000000 $t
     /tmp/ccikXxF0.s:91     .text.matrix_scan_kb:0000000000000000 matrix_scan_kb
     /tmp/ccikXxF0.s:115    .text.matrix_init:0000000000000000 $t
     /tmp/ccikXxF0.s:121    .text.matrix_init:0000000000000000 matrix_init
     /tmp/ccikXxF0.s:250    .text.matrix_init:00000000000000d0 $d
     /tmp/ccikXxF0.s:1075   .bss.matrix:0000000000000000 matrix
     /tmp/ccikXxF0.s:1070   .bss.matrix_debouncing:0000000000000000 matrix_debouncing
     /tmp/ccikXxF0.s:260    .text.matrix_scan:0000000000000000 $t
     /tmp/ccikXxF0.s:266    .text.matrix_scan:0000000000000000 matrix_scan
     /tmp/ccikXxF0.s:464    .text.matrix_scan:00000000000000d4 $d
     /tmp/ccikXxF0.s:469    .text.matrix_scan:00000000000000e8 $t
     /tmp/ccikXxF0.s:798    .text.matrix_scan:00000000000001fc $d
     /tmp/ccikXxF0.s:1065   .bss.debouncing:0000000000000000 debouncing
     /tmp/ccikXxF0.s:1060   .bss.debouncing_time:0000000000000000 debouncing_time
     /tmp/ccikXxF0.s:809    .text.matrix_is_on:0000000000000000 $t
     /tmp/ccikXxF0.s:815    .text.matrix_is_on:0000000000000000 matrix_is_on
     /tmp/ccikXxF0.s:842    .text.matrix_is_on:0000000000000014 $d
     /tmp/ccikXxF0.s:847    .text.matrix_get_row:0000000000000000 $t
     /tmp/ccikXxF0.s:853    .text.matrix_get_row:0000000000000000 matrix_get_row
     /tmp/ccikXxF0.s:871    .text.matrix_get_row:0000000000000008 $d
     /tmp/ccikXxF0.s:887    .text.matrix_print:0000000000000000 $t
     /tmp/ccikXxF0.s:893    .text.matrix_print:0000000000000000 matrix_print
     /tmp/ccikXxF0.s:1043   .text.matrix_print:0000000000000070 $d
     /tmp/ccikXxF0.s:1057   .bss.debouncing_time:0000000000000000 $d
     /tmp/ccikXxF0.s:1066   .bss.debouncing:0000000000000000 $d
     /tmp/ccikXxF0.s:1071   .bss.matrix_debouncing:0000000000000000 $d
     /tmp/ccikXxF0.s:1076   .bss.matrix:0000000000000000 $d

UNDEFINED SYMBOLS
printf_
_pal_lld_setgroupmode
matrix_init_quantum
debug_config
chThdSleep
timer_read
timer_elapsed
matrix_scan_quantum
